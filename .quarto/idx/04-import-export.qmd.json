{"title":"Daten Import und Export in R","markdown":{"headingText":"Daten Import und Export in R","containsRefs":false,"markdown":"\nIn diesem Kapitel beschäftigen wir uns mit grundlegenden Techniken, um Daten in R zu importieren und zu exportieren. Diese Fähigkeiten sind essentiell, da Datenanalyse ohne Daten nicht möglich ist. Die im Folgenden vorgestellten Methoden werden sehen, wie man effizient mit verschiedenen Datenquellen arbeiten kann. \n\n## Daten importieren\n\nZum Importieren von Daten in R gibt es verschiedene Methoden, die je nach Quelle und Dateityp variieren können. Wir werden drei häufige Ansätze betrachten:\n\n### Import durch Klicken\nIn RStudio können Sie Daten einfach durch Klicken importieren, via `Datei -> Import Dataset -> From Text (readr)`. Dies ist besonders nützlich für Anfänger oder wenn Sie schnell eine Datei ohne vorherige Skripterstellung laden möchten.\n\n**Beachten Sie:**\n- Durch diese Methode wird der entsprechende Code in der Konsole angezeigt. Dies ist hilfreich, um den genutzten Befehl zu lernen und bei Bedarf anzupassen.\n\n### Import durch Pfadangabe\nDie oben genannt Methode hat einen erheblichen Nachteil: sie ist durch andere nicht reporduzierbar. Wie schon gesagt ist ein grosser Vorteil von R, dass die Analysen durch das Ausführen gesamter Skripte reproduzierbar sind. Erfordert ein Skript menschlichen Input (Auswahl der Datei via Menü) ist es nicht mehr 100% reproduzierbar. Deshalb verwenden wir diese Mehtode nur zu Beginn. Besser ist es, die Daten via Pfadangabe einzulesen. Anstatt die Datei manuell auszuwählen, spezifizieren wir dabei den Pfad der Datei (also der Ort auf dem Computer, wo sich die Datei befindet).\n\nUnd nun zahlt es sich aus, dass wir im ersten Kapitel ein Projekt und eine Ordnerstruktur erstellt haben. Dies vereinfacht nämlich die Arbeit mit externen Daten und deren Pfaden enorm. Der Grund dafür ist, dass R nun bei der Angabe von Pfaden bereits im Projektordner \"sucht\". Dies können wir verifizieren, indem wir uns das Arbeitsverzeichnis (working directory) von R anzeigen lassen: \n\n\n```{r}\nlibrary(tidyverse)\n```\n\n\n```{r}\ngetwd()\n```\n\nDas heisst, dass wir nicht den ganzen Pfad zu einer Datei, also zum Beispiel `\"/Users/dominik/Dropbox/Uni/Psychologie/PhD/Teaching/Data Analysis Introduction/book/data/test_data.csv\"` angeben müssen, sondern nur den letzten Teil, `data/test_data.csv`.\n\nWenn sich die Datei `test_data.csv` also innerhlab ihres Projektordners in einem Ordner Namens `data` befinden würde, könnten sie die Datei folgendermassen einlesen:\n\n```{r, eval = FALSE}\nlibrary(tidyverse)\n\ndf_0 <- read_csv('data/test_data.csv')\n```\n\n\nDaten werden häufig im sogenannten `csv` Format abgespeichert, dies steht für \"comma-separated values\". CSV Dateien sind Textdateien, bei denen Spalten durch Kommas getrennt werden. \n\n\n\n### Import über URL\nDer Import über eine URL ist effizient, wenn Daten regelmäßig aktualisiert werden oder sehr groß sind. Beispiel:\n```{r, eval = FALSE}\ndf <- read_csv(\"https://github.com/tidyverse/readr/raw/main/inst/extdata/mtcars.csv\")\n```\n\n```{r, echo=FALSE}\ndf <- mtcars\n```\n\n\n## Daten prüfen\nNach dem Import ist es wichtig, die Daten zu prüfen, um ein Verständnis für die Struktur und mögliche Probleme zu entwickeln:\n- `glimpse(df)` zeigt die Struktur der Daten, wir sehen alle Spalten und die Klasse der Variablen (in diesem Fall alles `double`)\n```{r}\nglimpse(df)\n```\n\n- `head(df)` zeigt die ersten Zeilen.\n```{r}\nhead(df)\n```\n\n- `summary(df)` liefert eine Zusammenfassung der Daten.\n```{r}\nsummary(df)\n```\n\n\n## Daten exportieren\nNach einer Analyse möchten wir Daten oft exporiteren. Dies erfolgt ähnlich wie das Importieren. \n\n\n### Export als CSV\n```{r, eval = FALSE}\nwrite_csv(df, 'pfad/zum/speichern/my_data.csv')\n```\n\n### Export als XLSX\nNach Installation von `writexl`:\n```{r, eval = FALSE}\n#install.packages(\"writexl\")\nlibrary(writexl)\nwrite_xlsx(df, 'pfad/zum/speichern/my_data.xlsx')\n```\n\n### Export als RData\nFür R-spezifische Datenformate:\n```{r, eval = FALSE}\nsave(df, file = 'pfad/zum/speichern/my_data.RData')\n```\n\n\n## Aufgaben\n1. Besuchen Sie die Webseite [Gabor's Data Analysis](https://gabors-data-analysis.com/) und finden Sie die OSF-Datenbank.\n2. Laden Sie die `hotelbookingdata.csv` von der OSF-Datenbank manuell herunter und importieren Sie sie in R.\n3. Exportieren Sie die Daten als XLSX und RData.\n\nDurch das Erlernen dieser Techniken wird Ihr Arbeitsfluss in R effizienter und Ihre Analysen reproduzierbar, was die Grundlage für empirische Forschung bildet.\n\n\n\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"kable","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"wrap","code-link":true,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"html-table-processing":"none"},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","filters":["panelize","webr"],"css":["include/psyteachr.css","include/webex.css","include/style.css"],"highlight-style":"a11y","include-after-body":["include/webex.js","include/script.js"],"output-file":"04-import-export.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.555","bibliography":["include/book.bib","include/packages.bib"],"csl":"include/apa.csl","webr":{"packages":["tidyverse"]},"theme":{"light":["flatly","include/light.scss"],"dark":["darkly","include/dark.scss"]},"code-copy":"hover"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}