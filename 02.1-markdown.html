<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Einführung in die Datenanalyse mit R - 2&nbsp; Berichte mit R Markdown erstellen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03-coding-basics.html" rel="next">
<link href="./02-test.html" rel="prev">
<link href="./images/logos/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script src="site_libs/kePrint-0.0.1/kePrint.js"></script><link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02.1-markdown.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown erstellen</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Einführung in die Datenanalyse mit R</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/psyteachr/ads-v3/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Übersicht</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einführung in R und RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.1-markdown.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown erstellen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-coding-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Coding basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-import-export.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten Import und Export in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-tibbles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Einführung in Tibbles</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Datenbereinigung</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-joins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Datenbeziehungen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-data-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Datenvisualisierung</span></span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#sec-ilo-reports" id="toc-sec-ilo-reports" class="nav-link active" data-scroll-target="#sec-ilo-reports">Lernziele</a></li>
  <li><a href="#functions-reports" id="toc-functions-reports" class="nav-link" data-scroll-target="#functions-reports"><span class="header-section-number">2.1</span> Verwendete Funktionen</a></li>
  <li><a href="#sec-setup-reports" id="toc-sec-setup-reports" class="nav-link" data-scroll-target="#sec-setup-reports"><span class="header-section-number">2.2</span> Einrichtung</a></li>
  <li>
<a href="#sec-projects" id="toc-sec-projects" class="nav-link" data-scroll-target="#sec-projects"><span class="header-section-number">2.3</span> Ein Projekt organisieren</a>
  <ul class="collapse">
<li><a href="#standardarbeitsverzeichnis" id="toc-standardarbeitsverzeichnis" class="nav-link" data-scroll-target="#standardarbeitsverzeichnis"><span class="header-section-number">2.3.1</span> Standardarbeitsverzeichnis</a></li>
  <li><a href="#sec-project-start" id="toc-sec-project-start" class="nav-link" data-scroll-target="#sec-project-start"><span class="header-section-number">2.3.2</span> Ein Projekt starten</a></li>
  <li><a href="#sec-naming" id="toc-sec-naming" class="nav-link" data-scroll-target="#sec-naming"><span class="header-section-number">2.3.3</span> Dinge benennen</a></li>
  </ul>
</li>
  <li>
<a href="#sec-rmarkdown" id="toc-sec-rmarkdown" class="nav-link" data-scroll-target="#sec-rmarkdown"><span class="header-section-number">2.4</span> R Markdown</a>
  <ul class="collapse">
<li><a href="#neues-dokument" id="toc-neues-dokument" class="nav-link" data-scroll-target="#neues-dokument"><span class="header-section-number">2.4.1</span> Neues Dokument</a></li>
  <li><a href="#sec-code-chunks" id="toc-sec-code-chunks" class="nav-link" data-scroll-target="#sec-code-chunks"><span class="header-section-number">2.4.2</span> Codeblöcke</a></li>
  <li><a href="#code-ausf%C3%BChren" id="toc-code-ausführen" class="nav-link" data-scroll-target="#code-ausf%C3%BChren"><span class="header-section-number">2.4.3</span> Code ausführen</a></li>
  <li><a href="#sec-rmd-inline-r" id="toc-sec-rmd-inline-r" class="nav-link" data-scroll-target="#sec-rmd-inline-r"><span class="header-section-number">2.4.4</span> Inline-Code</a></li>
  <li><a href="#sec-rmd-knit" id="toc-sec-rmd-knit" class="nav-link" data-scroll-target="#sec-rmd-knit"><span class="header-section-number">2.4.5</span> Ihre Datei stricken</a></li>
  </ul>
</li>
  <li>
<a href="#daten-laden" id="toc-daten-laden" class="nav-link" data-scroll-target="#daten-laden"><span class="header-section-number">2.5</span> Daten laden</a>
  <ul class="collapse">
<li><a href="#sec-loading-online" id="toc-sec-loading-online" class="nav-link" data-scroll-target="#sec-loading-online"><span class="header-section-number">2.5.1</span> Online-Quellen</a></li>
  <li><a href="#lokale-datendateien" id="toc-lokale-datendateien" class="nav-link" data-scroll-target="#lokale-datendateien"><span class="header-section-number">2.5.2</span> Lokale Datendateien</a></li>
  </ul>
</li>
  <li>
<a href="#einen-bericht-schreiben" id="toc-einen-bericht-schreiben" class="nav-link" data-scroll-target="#einen-bericht-schreiben"><span class="header-section-number">2.6</span> Einen Bericht schreiben</a>
  <ul class="collapse">
<li><a href="#datenanalyse" id="toc-datenanalyse" class="nav-link" data-scroll-target="#datenanalyse"><span class="header-section-number">2.6.1</span> Datenanalyse</a></li>
  <li><a href="#sec-markdown" id="toc-sec-markdown" class="nav-link" data-scroll-target="#sec-markdown"><span class="header-section-number">2.6.2</span> Textformatierung</a></li>
  <li><a href="#sec-comments" id="toc-sec-comments" class="nav-link" data-scroll-target="#sec-comments"><span class="header-section-number">2.6.3</span> Codekommentare</a></li>
  <li><a href="#sec-rmd-images" id="toc-sec-rmd-images" class="nav-link" data-scroll-target="#sec-rmd-images"><span class="header-section-number">2.6.4</span> Bilder</a></li>
  <li><a href="#sec-rmd-tables" id="toc-sec-rmd-tables" class="nav-link" data-scroll-target="#sec-rmd-tables"><span class="header-section-number">2.6.5</span> Tabellen</a></li>
  </ul>
</li>
  <li>
<a href="#ihren-bericht-verfeinern" id="toc-ihren-bericht-verfeinern" class="nav-link" data-scroll-target="#ihren-bericht-verfeinern"><span class="header-section-number">2.7</span> Ihren Bericht verfeinern</a>
  <ul class="collapse">
<li><a href="#sec-rmd-setup" id="toc-sec-rmd-setup" class="nav-link" data-scroll-target="#sec-rmd-setup"><span class="header-section-number">2.7.1</span> Chunk-Standards</a></li>
  <li><a href="#standards-%C3%BCberschreiben" id="toc-standards-überschreiben" class="nav-link" data-scroll-target="#standards-%C3%BCberschreiben"><span class="header-section-number">2.7.2</span> Standards überschreiben</a></li>
  <li><a href="#pakete-laden" id="toc-pakete-laden" class="nav-link" data-scroll-target="#pakete-laden"><span class="header-section-number">2.7.3</span> Pakete laden</a></li>
  <li><a href="#sec-yaml" id="toc-sec-yaml" class="nav-link" data-scroll-target="#sec-yaml"><span class="header-section-number">2.7.4</span> YAML-Header</a></li>
  <li><a href="#sec-toc" id="toc-sec-toc" class="nav-link" data-scroll-target="#sec-toc"><span class="header-section-number">2.7.5</span> Inhaltsverzeichnis</a></li>
  <li><a href="#formate" id="toc-formate" class="nav-link" data-scroll-target="#formate"><span class="header-section-number">2.7.6</span> Formate</a></li>
  <li><a href="#sec-reports-summary" id="toc-sec-reports-summary" class="nav-link" data-scroll-target="#sec-reports-summary"><span class="header-section-number">2.7.7</span> Zusammenfassung</a></li>
  </ul>
</li>
  <li><a href="#sec-glossary-intro" id="toc-sec-glossary-intro" class="nav-link" data-scroll-target="#sec-glossary-intro"><span class="header-section-number">2.8</span> Glossar</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/psyteachr/ads-v3/edit/master/02.1-markdown.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/psyteachr/ads-v3/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/psyteachr/ads-v3/blob/master/02.1-markdown.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-reports" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown erstellen</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><section id="sec-ilo-reports" class="level2 unnumbered"><h2 class="unnumbered anchored" data-anchor-id="sec-ilo-reports">Lernziele</h2>
<ul>
<li>Ein Projekt strukturieren können</li>
<li>Einen einfachen reproduzierbaren Bericht mit R Markdown erstellen können</li>
<li>Codeblöcke, Tabellen, Bilder und inline R code in einem R Markdown-Dokument erstellen können</li>
</ul></section><section id="functions-reports" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="functions-reports">
<span class="header-section-number">2.1</span> Verwendete Funktionen</h2>
<ul>
<li>Eingebaute Funktionen (diese können immer ohne das Laden von Paketen verwendet werden)
<ul>
<li>base:: <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code>, <code><a href="https://rdrr.io/r/base/nrow.html">nrow()</a></code>, <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code>, <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>
</li>
<li>utils:: <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code>
</li>
</ul>
</li>
<li>tidyverse (alle diese können mit <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> verwendet werden)
<ul>
<li>readr:: <code>read_csv()</code>, <code>row_spec()</code>
</li>
<li>dplyr:: <code>count()</code>, <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code>
</li>
<li>ggplot2:: <code>geom_bar()</code>, <code>geom_col()</code>, <code>ggplot()</code>, <code>labs()</code>
</li>
</ul>
</li>
<li>Andere (Sie müssen jedes Paket laden, um diese zu verwenden)
<ul>
<li>knitr:: <code>include_graphics()</code>, <code>kable()</code>
</li>
<li>kableExtra:: <code>kable_classic()</code>, <code>row_spec()</code>
</li>
<li>tinytex:: <code>install_tinytex()</code>
</li>
</ul>
</li>
</ul>
<p>Lade den <a href="https://www.rstudio.org/links/r_markdown_cheat_sheet" download="">R Markdown Spickzettel</a> herunter.</p>
</section><section id="sec-setup-reports" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="sec-setup-reports">
<span class="header-section-number">2.2</span> Einrichtung</h2>
<p>Hier sind die Pakete, die wir in diesem Kapitel verwenden werden. Sie müssen sie möglicherweise installieren, wie in <a href="02-test.html#sec-install-package" class="quarto-xref"><span>Section 1.6.1</span></a> erklärt, wenn das Ausführen des untenstehenden Codes im Konsolenbereich den Fehler <code>Error in library(package_name) : there is no package called ‘packagename’</code> erzeugt.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Chapter packages</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># verschiedene Datenmanipulationsfunktionen</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(knitr)      <span class="co"># für das Rendern eines Berichts aus einem Skript</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(rmarkdown)  <span class="co"># für die Verwendung von R Markdown</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(kableExtra) <span class="co"># für das Stylen von Tabellen</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section><section id="sec-projects" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="sec-projects">
<span class="header-section-number">2.3</span> Ein Projekt organisieren</h2>
<p>Bevor wir irgendeinen Code schreiben, müssen wir uns zuerst organisieren. <a href="https://psyteachr.github.io/glossary/p#project" target="_blank" class="glossary" title="A way to organise related files in RStudio">Projects</a> in RStudio sind eine Möglichkeit, alle Dateien, die Sie für ein Projekt benötigen, zu gruppieren. Die meisten Projekte beinhalten <a href="https://psyteachr.github.io/glossary/s#script" target="_blank" class="glossary" title="A plain-text file that contains commands in a coding language, such as R.">scripts</a>, Datendateien und Ausgabedateien wie den von dem Skript erstellten PDF-Bericht oder Bilder.</p>
<section id="standardarbeitsverzeichnis" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="standardarbeitsverzeichnis">
<span class="header-section-number">2.3.1</span> Standardarbeitsverzeichnis</h3>
<p>Zuerst erstellen Sie ein neues <a href="https://psyteachr.github.io/glossary/d#directory" target="_blank" class="glossary" title="A collection or “folder” of files on a computer.">directory</a> (d.&nbsp;h. einen Ordner) auf Ihrem Computer, in dem Sie alle Ihre R-Projekte aufbewahren. Nennen Sie es etwas wie “R-Projekte” (vermeiden Sie Leerzeichen und andere Sonderzeichen). Stellen Sie sicher, dass Sie wissen, wie Sie dieses Verzeichnis mit dem Finder oder Explorer Ihres Computers erreichen können.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vermeiden Sie Netzwerklaufwerke
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn möglich, verwenden Sie kein Netzwerk- oder Cloud-Laufwerk (z. B. OneDrive oder Dropbox), da dies manchmal Probleme verursachen kann. Wenn Sie von einem Netzwerklaufwerk aus arbeiten und Probleme haben, ist ein hilfreicher Test, Ihren Projektordner auf den Desktop zu verschieben, um zu sehen, ob das das Problem löst.</p>
</div>
</div>
<p>Als nächstes öffnen Sie <if>Tools &gt; Global Options…</if>, navigieren Sie zum <if>General</if> Bereich und setzen Sie das “Standardarbeitsverzeichnis (wenn nicht in einem Projekt)” auf dieses Verzeichnis. Wenn Sie nicht in einem Projekt arbeiten, werden alle Dateien oder Bilder, die Sie erstellen, in diesem <a href="https://psyteachr.github.io/glossary/w#working-directory" target="_blank" class="glossary" title="The filepath where R is currently reading and writing files.">working directory</a> gespeichert.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vermeiden Sie lange Pfadnamen
</div>
</div>
<div class="callout-body-container callout-body">
<p>In einigen Versionen von Windows 10 und 11 können lange Pfadnamen, die länger als 260 Zeichen sind, Probleme verursachen. Setzen Sie Ihr Standardarbeitsverzeichnis auf einen Pfad, dessen Länge deutlich darunter liegt, um Probleme zu vermeiden, wenn R temporäre Dateien beim Rendern eines Berichts erstellt. Wenn Sie Probleme haben, ist ein hilfreicher Test, Ihren Projektordner auf den Desktop zu verschieben, da dies wahrscheinlich einen viel kürzeren Pfadnamen hat als die meisten anderen Ordner auf Ihrem Computer.</p>
</div>
</div>
<p>Sie können das Arbeitsverzeichnis manuell auf einen anderen Ort setzen mit Menübefehlen: <if>Session &gt; Set Working Directory &gt; Choose Directory…</if> Allerdings gibt es eine bessere Art, Ihre Dateien zu organisieren, indem Sie Projekte in RStudio verwenden.</p>
</section><section id="sec-project-start" class="level3" data-number="2.3.2"><h3 data-number="2.3.2" class="anchored" data-anchor-id="sec-project-start">
<span class="header-section-number">2.3.2</span> Ein Projekt starten</h3>
<p>Beginnen Sie, indem Sie ein Verzeichnis in Ihrem Standardprojektverzeichnis erstellen, in dem Sie alle Ihre Unterlagen für diesen Kurs aufbewahren; wir schlagen vor, es etwas wie <code>ADS-23</code> zu nennen.</p>
<p>Um ein neues Projekt für die Arbeit in diesem Kapitel zu erstellen:</p>
<ul>
<li><if>File &gt; New Project…</if></li>
<li>Benennen Sie das Projekt <code class="path">02-reports</code>
</li>
<li>Speichern Sie es im <code>ADS-23</code> Verzeichnis</li>
</ul>
<p>RStudio wird sich selbst neu starten und mit diesem neuen Projektverzeichnis als Arbeitsverzeichnis öffnen.</p>
<div id="fig-new-proj" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-new-proj-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="images/reports/new_proj_1.png" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="images/reports/new_proj_2.png" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="images/reports/new_proj_3.png" class="img-fluid figure-img"></p>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-new-proj-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.1: Ein neues Projekt starten.
</figcaption></figure>
</div>
<p>Klicken Sie auf die Registerkarte Dateien im unteren rechten Bereich, um den Inhalt des Projektverzeichnisses zu sehen. Sie werden eine Datei mit dem Namen <code>02-reports.Rproj</code> sehen, die eine Datei enthält, die alle Projektinformationen enthält. Wenn Sie im Finder/Explorer sind, können Sie darauf doppelklicken, um das Projekt zu öffnen.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Punktdateien
</div>
</div>
<div class="callout-body-container callout-body">
<p>Abhängig von Ihren Einstellungen sehen Sie möglicherweise auch ein Verzeichnis namens <code>.Rproj.user</code>, das Ihre spezifischen Benutzereinstellungen enthält. Sie können dies und andere “unsichtbare” Dateien, die mit einem Punkt beginnen, ignorieren.</p>
</div>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vermeiden Sie verschachtelte Projekte
</div>
</div>
<div class="callout-body-container callout-body">
<p>Speichern Sie niemals ein neues Projekt <strong>innerhalb</strong> eines anderen Projektverzeichnisses. Dies kann einige schwer zu lösende Probleme verursachen.</p>
</div>
</div>
</section><section id="sec-naming" class="level3" data-number="2.3.3"><h3 data-number="2.3.3" class="anchored" data-anchor-id="sec-naming">
<span class="header-section-number">2.3.3</span> Dinge benennen</h3>
<p>Bevor wir neue Dateien erstellen, ist es wichtig, zu überprüfen, wie Sie Ihre Dateien benennen. Das mag etwas pedantisch erscheinen, aber klare Benennungsregeln zu befolgen, damit sowohl Menschen als auch Computer leicht Dinge finden können, wird Ihnen auf lange Sicht das Leben erleichtern. Hier sind einige wichtige Prinzipien:</p>
<ul>
<li>Datei- und Verzeichnisnamen sollten nur Buchstaben, Zahlen, Bindestriche und Unterstriche enthalten, mit einem Punkt (<code>.</code>) zwischen dem Dateinamen und <a href="https://psyteachr.github.io/glossary/e#extension" target="_blank" class="glossary" title="The end part of a file name that tells you what type of file it is (e.g., .R or .Rmd).">extension</a> (das bedeutet keine Leerzeichen!)</li>
<li>Konsistente Groß-/Kleinschreibung (setzen Sie eine Regel fest, um es sich leicht zu merken, wie immer Kleinbuchstaben verwenden)</li>
<li>Verwenden Sie Unterstriche (<code>_</code>) zur Trennung von Teilen des Dateinamens, wie Titel und Datum, und Bindestriche (<code>-</code>) zur Trennung von Wörtern in jedem Teil (z. B. <code>social-media-report_2021-10.Rmd</code>)</li>
<li>Benennen Sie Dateien nach einem Muster, das in einer sinnvollen Reihenfolge alphabetisch sortiert wird und es Ihnen erleichtert, die Datei zu finden, die Sie suchen</li>
<li>Präfixieren Sie einen Dateinamen mit einem</li>
</ul>
<p>Unterstrich, um ihn an den Anfang der Liste zu setzen, oder präfixieren Sie alle Dateien mit Zahlen, um ihre Reihenfolge zu steuern</p>
<p>Zum Beispiel sind diese Dateinamen ein Durcheinander:</p>
<ul>
<li><code class="path">report.doc</code></li>
<li><code class="path">report final.doc</code></li>
<li><code class="path">Data (Customers) 11-15.xls</code></li>
<li><code class="path">Customers Data Nov 12.xls</code></li>
<li><code class="path">final report2.doc</code></li>
<li><code class="path">project notes.txt</code></li>
<li><code class="path">Vendor Data November 15.xls</code></li>
</ul>
<p>Hier ist eine Möglichkeit, sie zu strukturieren, damit ähnliche Dateien dieselbe Struktur haben und es für einen Menschen einfach ist, die Liste zu scannen oder Code zu verwenden, um relevante Dateien zu finden. Sehen Sie, ob Sie herausfinden können, was das Letzte sein sollte.</p>
<ul>
<li><code class="path">_project-notes.txt</code></li>
<li><code class="path">report_v1.doc</code></li>
<li><code class="path">report_v2.doc</code></li>
<li><code class="path">report_v3.doc</code></li>
<li><code class="path">data_customer_2021-11-12.xls</code></li>
<li><code class="path">data_customer_2021-11-15.xls</code></li>
<li><select class="webex-select"><option value="blank"></option>
<option value="">vendor-data_2021-11-15.xls</option>
<option value="">data-vendor-2021_11_15.xls</option>
<option value="answer">data_vendor_2021-11-15.xls</option>
<option value="">data_2021-11-15_vendor.xls</option></select></li>
</ul>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Benennungsübung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Denken Sie über andere Möglichkeiten nach, die oben genannten Dateien zu benennen. Sehen Sie sich einige Ihrer eigenen Projektdateien an und überlegen Sie, was Sie verbessern können.</p>
</div>
</div>
</section></section><section id="sec-rmarkdown" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="sec-rmarkdown">
<span class="header-section-number">2.4</span> R Markdown</h2>
<p>Während dieses Kurses verwenden wir <a href="https://psyteachr.github.io/glossary/r#r-markdown" target="_blank" class="glossary" title="The R-specific version of markdown: a way to specify formatting, such as headers, paragraphs, lists, bolding, and links, as well as code blocks and inline code.">R Markdown</a>, um reproduzierbare Berichte mit einem Inhaltsverzeichnis, Text, Tabellen, Bildern und Code zu erstellen. Der Text kann mit <a href="https://psyteachr.github.io/glossary/m#markdown" target="_blank" class="glossary" title="A way to specify formatting, such as headers, paragraphs, lists, bolding, and links.">markdown</a> geschrieben werden, einer Methode zur Festlegung von Formatierungen wie Überschriften, Absätzen, Listen, Fettdruck und Links.</p>
<section id="neues-dokument" class="level3" data-number="2.4.1"><h3 data-number="2.4.1" class="anchored" data-anchor-id="neues-dokument">
<span class="header-section-number">2.4.1</span> Neues Dokument</h3>
<p>Um ein neues R Markdown-Dokument zu öffnen, klicken Sie <if>File &gt; New File &gt; R Markdown</if>. Sie werden aufgefordert, ihm einen Titel zu geben; benennen Sie es <code>Wichtige Infos</code>. Sie können auch den Autorennamen ändern. Behalten Sie das Ausgabeformat als HTML bei.</p>
<p>Nachdem Sie ein neues Dokument geöffnet haben, speichern Sie es, indem Sie auf <if>File &gt; Save As…</if> klicken. Sie sollten diese Datei <code>important_info</code> nennen (wenn Sie auf einem Mac sind und die Datei <a href="https://psyteachr.github.io/glossary/e#extension" target="_blank" class="glossary" title="The end part of a file name that tells you what type of file it is (e.g., .R or .Rmd).">extension</a> sehen können, nennen Sie sie <code>important_info.Rmd</code>). Diese Datei wird automatisch in Ihrem Projektordner (d.&nbsp;h. Ihrem Arbeitsverzeichnis) gespeichert, sodass Sie diese Datei nun in Ihrem Dateibetrachter sehen sollten.</p>
<p>Wenn Sie ein neues R Markdown-Dokument zum ersten Mal öffnen, sehen Sie einen Haufen Begrüßungstext, der so aussieht:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-markdown-default" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-markdown-default-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/reports/markdown-default.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-markdown-default-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.2: Neuer R Markdown-Text
</figcaption></figure>
</div>
</div>
</div>
<p>Führen Sie die folgenden Schritte aus:</p>
<ul>
<li>Ändern Sie den Titel in “Wichtige Informationen” und den Autor in Ihren Namen</li>
<li>Löschen Sie <strong>alles</strong> nach dem Setup-Block</li>
<li>Lassen Sie eine Zeile nach dem Setup-Block frei und tippen Sie “## Meine Infos” (mit den Rauten, aber ohne die Anführungszeichen); stellen Sie sicher, dass keine Leerzeichen vor den Rauten sind und mindestens ein Leerzeichen nach den Rauten vor dem Untertitel</li>
<li>Lassen Sie eine Zeile frei und klicken Sie auf das Menü zum Einfügen eines neuen Codes (ein grünes Kästchen mit einem C und einem Pluszeichen) und wählen Sie <if>R</if>
</li>
</ul>
<p>Ihr Markdown-Dokument sollte jetzt etwa so aussehen:</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-new-chunk" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-new-chunk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/reports/new-chunk.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-new-chunk-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.3: Neuer R-Block
</figcaption></figure>
</div>
</div>
</div>
</section><section id="sec-code-chunks" class="level3" data-number="2.4.2"><h3 data-number="2.4.2" class="anchored" data-anchor-id="sec-code-chunks">
<span class="header-section-number">2.4.2</span> Codeblöcke</h3>
<p>Was Sie erstellt haben, ist ein Untertitel und ein <strong>Codeblock</strong>. In R Markdown wird alles, was in einem grauen Codeblock geschrieben steht, als Code angesehen, und alles, was im weißen Raum (zwischen den Codeblöcken) geschrieben wird, wird als normaler Text betrachtet (die tatsächlichen Farben hängen davon ab, welches Thema Sie angewendet haben, aber wir beziehen uns auf das Standardweiß und Grau). Dies erleichtert die Kombination von Text und Code in einem Dokument.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fehler in Codeblöcken
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn Sie einen neuen Codeblock erstellen, sollten Sie beachten, dass der graue Kasten mit drei Rückwärts-Apostrophen <code>\</code>``` beginnt und endet. Ein häufiger Fehler ist es, diese Rückwärts-Apostrophen versehentlich zu löschen. Denken Sie daran, dass Codeblöcke und Texteingaben unterschiedliche Farben haben - wenn die Farbe bestimmter Teile Ihres Markdown nicht richtig aussieht, überprüfen Sie, ob Sie die Rückwärts-Apostrophen nicht gelöscht haben.</p>
</div>
</div>
<p>In Ihrem Codeblock schreiben Sie den Code, den Sie in <a href="02-test.html#sec-objects" class="quarto-xref"><span>Section 1.7</span></a> erstellt haben.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>important_info.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>name <span class="ot">&lt;-</span> <span class="st">"Emily"</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>age <span class="ot">&lt;-</span> <span class="dv">36</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>today <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb2-4"><a href="#cb2-4"></a>christmas <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-12-25"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Konsole vs.&nbsp;Skripte
</div>
</div>
<div class="callout-body-container callout-body">
<p>In <a href="02-test.html#sec-intro" class="quarto-xref"><span>Section 1.2</span></a> haben wir Sie gebeten, Code in die Konsole einzugeben. Jetzt möchten wir, dass Sie Code in Codeblöcke in R Markdown-Dateien eingeben, um den Code reproduzierbar zu machen. Auf diese Weise können Sie Ihren Code jederzeit neu ausführen, wenn sich die Daten ändern, um den Bericht zu aktualisieren, und Sie oder andere können den Code überprüfen, um Fehler zu identifizieren und zu beheben.</p>
<p>Es gibt jedoch immer noch Zeiten, in denen Sie Code in die Konsole statt in ein Skript eingeben müssen, beispielsweise wenn Sie ein neues Paket installieren. In diesem Buch werden Codeblöcke mit gekennzeichnet, ob Sie sie in der Konsole ausführen oder den Code zu einem Skript hinzufügen sollten.</p>
</div>
</div>
</section><section id="code-ausführen" class="level3" data-number="2.4.3"><h3 data-number="2.4.3" class="anchored" data-anchor-id="code-ausführen">
<span class="header-section-number">2.4.3</span> Code ausführen</h3>
<p>Wenn Sie in einem R Markdown-Dokument arbeiten, gibt es mehrere Möglichkeiten, Ihre Codezeilen auszuführen.</p>
<p>Zuerst können Sie den Code, den Sie ausführen möchten, markieren und dann auf <if>Run &gt; Run Selected Line(s)</if> klicken, dies ist jedoch mühsam und kann Probleme verursachen, wenn Sie nicht <em>genau</em> den Code markieren, den Sie ausführen möchten.</p>
<p>Alternativ können Sie die grüne “Play”-Schaltfläche oben rechts im Codeblock drücken, und dies wird <strong>alle</strong> Codezeilen in diesem Block ausführen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-run-all" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-run-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/reports/run-all.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-run-all-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.4: Klicken Sie auf den grünen Pfeil, um allen Code im Block auszuführen.
</figcaption></figure>
</div>
</div>
</div>
<p>Noch besser ist es, einige der Tastenkürzel für R Studio zu lernen. Um eine einzelne Codezeile auszuführen, stellen Sie sicher, dass sich der Cursor in der Codezeile befindet, die Sie ausführen möchten (er kann sich irgendwo befinden), und drücken Sie <pc>Ctrl+Enter</pc> oder <mac>Cmd+Enter</mac>. Wenn Sie allen Code im Codeblock ausführen möchten, drücken Sie <pc>Ctrl+Shift+Enter</pc> oder <mac>Cmd+Shift+Enter</mac>. Lernen Sie diese Tastenkürzel; sie werden Ihr Leben einfacher machen!</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-run3" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-run3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/reports/run3.gif" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-run3-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.5: Verwenden Sie das Tastenkürzel, um nur markierten Code auszuführen, oder führen Sie eine Zeile nach der anderen aus, indem Sie den Cursor auf einer Zeile platzieren, ohne etwas zu markieren.
</figcaption></figure>
</div>
</div>
</div>
<p>Führen Sie Ihren Code mit jeder der oben genannten Methoden aus. Sie sollten sehen, dass die Variablen <code>name</code>, <code>age</code>, <code>today</code> und <code>christmas</code> im Umgebungsbereich erscheinen. (Starten Sie R neu, um zurückzusetzen.)</p>
</section><section id="sec-rmd-inline-r" class="level3" data-number="2.4.4"><h3 data-number="2.4.4" class="anchored" data-anchor-id="sec-rmd-inline-r">
<span class="header-section-number">2.4.4</span> Inline-Code</h3>
<p>Wir sprechen immer wieder davon, R Markdown für reproduzierbare Berichte zu verwenden, aber es ist einfacher, Ihnen zu zeigen, warum dies so mächtig ist und Ihnen einen Einblick zu geben, wie dieser Kurs (hoffentlich!) die Art und Weise ändern wird, wie Sie mit Daten für immer arbeiten!</p>
<p>Ein wichtiges Merkmal von R Markdown ist, dass Sie Text und Code kombinieren können, um Werte in Ihre Texte einzufügen, indem Sie <strong>Inline-Coding</strong> verwenden. Wenn Sie jemals einen Wert oder Text von einer Datei in eine andere kopieren und einfügen mussten, wissen Sie, wie einfach es sein kann, Fehler zu machen. Inline-Code vermeidet dies. Wieder ist es einfacher, Ihnen zu zeigen, was Inline-Code macht, als es zu erklären, also lassen Sie es uns versuchen.</p>
<p>Kopieren und fügen Sie zuerst diesen Text in den <strong>weißen Raum unterhalb</strong> Ihres Codeblocks ein. Wenn Sie einen anderen Variablennamen als <code>christmas</code> verwendet haben, sollten Sie diesen mit dem Namen des Objekts aktualisieren, das Sie erstellt haben, aber ändern Sie sonst nichts.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1"></a>Mein Name ist <span class="in">`r name`</span> und ich bin <span class="in">`r age`</span> Jahre alt. </span>
<span id="cb3-2"><a href="#cb3-2"></a>Es sind <span class="in">`r christmas - today`</span> Tage bis Weihnachten, </span>
<span id="cb3-3"><a href="#cb3-3"></a>was mein Lieblingsfeiertag ist.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Diagramme anzeigen
</div>
</div>
<div class="callout-body-container callout-body">
<p>Sie können kein Diagramm mit Inline-R anzeigen. Diagramme sollten aus Codeblöcken angezeigt werden. Wir kommen bald darauf zurück, wie man das macht.</p>
</div>
</div>
</section><section id="sec-rmd-knit" class="level3" data-number="2.4.5"><h3 data-number="2.4.5" class="anchored" data-anchor-id="sec-rmd-knit">
<span class="header-section-number">2.4.5</span> Ihre Datei stricken</h3>
<p>Jetzt werden wir <a href="https://psyteachr.github.io/glossary/k#knit" target="_blank" class="glossary" title="To create an HTML, PDF, or Word document from an R Markdown (Rmd) document">knit</a>, oder die Datei in einen Dokumententyp unserer Wahl kompilieren. In diesem Fall erstellen wir eine Standard-HTML-Datei, aber Sie werden lernen, wie man andere Dateien wie Word und PDF im Verlauf dieses Kurses erstellt. Um Ihre Datei zu stricken, klicken Sie <if>Knit &gt; Knit to HMTL</if>.</p>
<p>R Markdown wird ein neues HTML-Dokument erstellen und anzeigen, aber es wird auch automatisch diese Datei in Ihrem Arbeitsverzeichnis speichern.</p>
<p>Wie durch Zauberei erscheint dieser etwas seltsame Text, den Sie kopiert und eingefügt haben, nun als normaler Satz mit den Werten, die aus den von Ihnen erstellten Objekten gezogen wurden.</p>
<blockquote class="blockquote">
<p>Mein Name ist Emily und ich bin 36 Jahre alt. Es sind 84 Tage bis Weihnachten, was mein Lieblingsfeiertag ist.</p>
</blockquote>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Stricken mit Code
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Sie können auch stricken, indem Sie den folgenden Code in die Konsole eingeben. Geben Sie diesen niemals in ein Rmd-Skript selbst ein, da es versuchen würde, sich selbst in einer Endlosschleife zu stricken.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>In der Konsole ausführen</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="st">"important_info.Rmd"</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co"># alternativ können Sie dies verwenden, aber Sie erhalten möglicherweise eine Warnung</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>knitr<span class="sc">::</span><span class="fu">knit2html</span>(<span class="st">"important_info.Rmd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section></section><section id="daten-laden" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="daten-laden">
<span class="header-section-number">2.5</span> Daten laden</h2>
<p>Lassen Sie uns nun ein weiteres Beispiel dafür versuchen, Markdown zu verwenden, aber diesmal anstatt Objekte zu verwenden, die wir von Grund auf neu erstellt haben, werden wir eine Datendatei einlesen.</p>
<p>Speichern und schließen Sie Ihr <code>important_info.Rmd</code> Dokument. Öffnen und speichern Sie dann ein neues Markdown-Dokument, diesmal mit dem Namen <code>sales_data.Rmd</code>. Sie können wieder alles nach dem Setup-Block löschen. Fügen Sie <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> zum Setup-Block hinzu, damit die tidyverse-Funktionen für Ihr Skript verfügbar sind.</p>
<div class="cell" data-layout-align="center" data-verbatim="r setup, include=FALSE">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r setup, include=FALSE}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<section id="sec-loading-online" class="level3" data-number="2.5.1"><h3 data-number="2.5.1" class="anchored" data-anchor-id="sec-loading-online">
<span class="header-section-number">2.5.1</span> Online-Quellen</h3>
<p>Lassen Sie uns zuerst versuchen, Daten zu laden, die online gespeichert sind. Erstellen Sie einen Codeblock in Ihrem Dokument und kopieren, fügen Sie den unten stehenden Code ein und führen Sie ihn aus. Dieser Code lädt einige simulierte Verkaufsdaten.</p>
<ul>
<li>Die Daten sind in einer <code>.csv</code>-Datei gespeichert, daher verwenden wir die Funktion <code>read_csv()</code>, um sie zu laden.</li>
<li>Beachten Sie, dass die URL in doppelten Anführungszeichen steht - ohne diese funktioniert sie nicht.</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>sales_online <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://psyteachr.github.io/ads-v2/data/sales_data_sample.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Funktion nicht gefunden
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn Sie eine Fehlermeldung erhalten, die so aussieht:</p>
<blockquote class="blockquote">
<p>Error in read_csv(“https://psyteachr.github.io/ads-v2/data/sales_data_sample.csv”) :<br>
could not find function “read_csv”</p>
</blockquote>
<p>Das bedeutet, dass Sie tidyverse nicht geladen haben. Überprüfen Sie, ob <code><a href="https://tidyverse.tidyverse.org">library(tidyverse)</a></code> im Setup-Block steht und dass Sie den Setup-Block ausgeführt haben.</p>
</div>
</div>
<p>Dieser Datensatz ist simulierte Verkaufsdaten für verschiedene Fahrzeugtypen (ursprünglich von <a href="https://www.kaggle.com/kyanyoga/sample-sales-data">Kaggle</a>), wobei jede Zeile der Daten eine einzelne Bestellung ist. Es gibt mehrere Möglichkeiten, einen Datensatz in R zu betrachten und zu überprüfen. Führen Sie jede der folgenden Aktionen durch und machen Sie sich Notizen darüber, welche Informationen jeder Ansatz zu geben scheint. Wenn Sie mehr Informationen zu jeder dieser Funktionen wünschen, können Sie die Hilfedokumentation mit <code>?function</code> aufrufen:</p>
<ul>
<li>Klicken Sie auf das Objekt <code>sales_online</code> im Umgebungsbereich</li>
<li>Führen Sie <code>head(sales_online)</code> in der Konsole aus</li>
<li>Führen Sie <code>summary(sales_online)</code> in der Konsole aus</li>
<li>Führen Sie <code>str(sales_online)</code> in der Konsole aus</li>
<li>Führen Sie <code>View(sales_online)</code> in der Konsole aus</li>
</ul></section><section id="lokale-datendateien" class="level3" data-number="2.5.2"><h3 data-number="2.5.2" class="anchored" data-anchor-id="lokale-datendateien">
<span class="header-section-number">2.5.2</span> Lokale Datendateien</h3>
<p>Häufiger werden Sie jedoch mit Datendateien arbeiten, die lokal auf Ihrem Computer gespeichert sind. Aber wo sollten Sie all Ihre Dateien speichern? Normalerweise möchten Sie alle Ihre Skripte und Datendateien für ein einzelnes Projekt in einem Ordner auf Ihrem Computer haben, dem <a href="https://psyteachr.github.io/glossary/w#working-directory" target="_blank" class="glossary" title="The filepath where R is currently reading and writing files.">working directory</a> des Projekts, und wir haben bereits das Hauptverzeichnis <code class="path">02-reports</code> für dieses Kapitel eingerichtet.</p>
<p>Sie können Dateien in Unterordnern innerhalb dieses Hauptprojektverzeichnisses organisieren, wie das Speichern aller Rohdatendateien in einem Unterordner namens <code class="path">data</code> und das Speichern aller Bilddateien in einem Unterordner namens <code class="path">images</code>. Die Verwendung von Unterordnern hilft, zu verhindern, dass ein einzelner Ordner zu überfüllt wird, was wichtig ist, wenn Sie an großen Projekten arbeiten.</p>
<p>Erstellen Sie in Ihrem <code class="path">02-reports</code> Verzeichnis einen neuen Ordner namens <code class="path">data</code>, <a href="https://psyteachr.github.io/ads-v2/data/sales_data_sample.csv" download="">laden Sie eine Kopie der Verkaufsdatendatei herunter</a>, und speichern Sie sie in diesem neuen Unterordner.</p>
<p>Um Daten aus einer lokalen Datei zu laden, können wir wieder die Funktion <code>read_csv()</code> verwenden, aber diesmal geben wir anstelle einer URL den Unterordner und den Dateinamen an.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>sales_local <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/sales_data_sample.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Dateinamen mit Tab-Autovervollständigung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verwenden Sie die Tab-Autovervollständigung, wenn Sie Dateinamen in einem Codeblock eingeben. Nachdem Sie das erste Anführungszeichen eingegeben haben, drücken Sie Tab, um ein Dropdown-Menü der Dateien in Ihrem Arbeitsverzeichnis zu sehen. Sie können den Namen des Unterordners oder der Datei eingeben, um es einzugrenzen. Dies ist sehr nützlich, um ärgerliche Fehler aufgrund von Tippfehlern oder Dateien, die nicht dort sind, wo Sie sie erwarten, zu vermeiden.</p>
</div>
</div>
<p>Dinge zu beachten:</p>
<ul>
<li>Sie müssen die Dateiendung (in diesem Fall <code>.csv</code>) einschließen</li>
<li>Der Unterordnername (<code>data</code>) und der Dateiname werden durch einen Schrägstrich <code>/</code> getrennt</li>
<li>Genauigkeit ist wichtig, wenn Sie einen Tippfehler im Dateinamen haben, wird Ihre Datei nicht gefunden; denken Sie daran, dass R groß- und kleinsch</li>
</ul>
<p>reibungsabhängig ist - <code>Sales_Data.csv</code> ist eine völlig andere Datei als <code>sales_data.csv</code>, soweit es R betrifft.</p>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
sales_local anzeigen
</div>
</div>
<div class="callout-body-container callout-body">
<p>Führen Sie <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>, <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>, <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> und <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> auf <code>sales_local</code> aus, um zu bestätigen, dass die Daten mit <code>sales_online</code> übereinstimmen.</p>
</div>
</div>
</section></section><section id="einen-bericht-schreiben" class="level2" data-number="2.6"><h2 data-number="2.6" class="anchored" data-anchor-id="einen-bericht-schreiben">
<span class="header-section-number">2.6</span> Einen Bericht schreiben</h2>
<p>Wir werden einen grundlegenden Bericht für diesen Verkaufsdatensatz mit R Markdown schreiben, um Ihnen einige der Funktionen zu zeigen. Wir werden fast jeden Aspekt dessen, was wir Ihnen gerade zeigen, im Verlauf dieses Kurses erweitern; das wichtigste Ergebnis ist, dass Sie anfangen, sich mit der Funktionsweise von R Markdown vertraut zu machen und zu verstehen, wozu Sie es verwenden können.</p>
<section id="datenanalyse" class="level3" data-number="2.6.1"><h3 data-number="2.6.1" class="anchored" data-anchor-id="datenanalyse">
<span class="header-section-number">2.6.1</span> Datenanalyse</h3>
<p>Für diesen Bericht werden wir nur einige einfache Verkaufsstatistiken für drei Fahrzeugtypen vorstellen: Flugzeuge, Motorräder und klassische Autos. Wir werden darauf zurückkommen, wie Sie diesen Code selbst schreiben können, in <span class="quarto-unresolved-ref">?sec-summary</span>. Für jetzt sehen Sie, ob Sie der Logik des Codes folgen können, den wir Ihnen durch die Codekommentare erklären.</p>
<p>Erstellen Sie einen neuen Codeblock, kopieren, fügen Sie den folgenden Code ein und führen Sie ihn aus, und sehen Sie sich dann <code>sales_counts</code> an, indem Sie auf das Objekt im Umgebungsbereich klicken. Beachten Sie, dass es nicht wirklich wichtig ist, ob Sie <code>sales_local</code> oder <code>sales_online</code> in der ersten Zeile verwenden, da sie identisch sind.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># behalte nur die Daten von Flugzeugen, Motorrädern und Autos</span></span>
<span id="cb8-2"><a href="#cb8-2"></a>sales_pmc <span class="ot">&lt;-</span> <span class="fu">filter</span>(sales_online,</span>
<span id="cb8-3"><a href="#cb8-3"></a>         PRODUCTLINE <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Planes"</span>, <span class="st">"Motorcycles"</span>, <span class="st">"Classic Cars"</span>))</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co"># zähle, wie viele es in jeder PRODUCTLINE gibt</span></span>
<span id="cb8-6"><a href="#cb8-6"></a>sales_counts <span class="ot">&lt;-</span><span class="fu">count</span>(sales_pmc, PRODUCTLINE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Da jede Zeile des Datensatzes einen Verkauf darstellt, gibt uns dieser Code eine schöne und einfache Möglichkeit zu sehen, wie viele Verkäufe von jedem Fahrzeugtyp gemacht wurden; er zählt einfach die Anzahl der Zeilen in jeder Gruppe.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="kable-table">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">PRODUCTLINE</th>
<th style="text-align: right;">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Classic Cars</td>
<td style="text-align: right;">967</td>
</tr>
<tr class="even">
<td style="text-align: left;">Motorcycles</td>
<td style="text-align: right;">331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Planes</td>
<td style="text-align: right;">306</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Einfach ein Objekt für sich auf einer Zeile “ausdrucken”. <a href="#sec-rmd-tables" class="quarto-xref"><span>Section 2.6.5</span></a> zeigt Ihnen, wie Sie die Tabelle in verschiedenen Formaten für Ihren Bericht ausdrucken.</p>
</div>
</div>
</section><section id="sec-markdown" class="level3" data-number="2.6.2"><h3 data-number="2.6.2" class="anchored" data-anchor-id="sec-markdown">
<span class="header-section-number">2.6.2</span> Textformatierung</h3>
<p>Sie können den visuellen <a href="https://psyteachr.github.io/glossary/m#markdown" target="_blank" class="glossary" title="A way to specify formatting, such as headers, paragraphs, lists, bolding, and links.">markdown</a>-Editor verwenden, wenn Sie RStudio Version 1.4 oder höher haben. Dies wird ein Knopf oben in der Quellfenster sein, und die Menüoptionen sollten jedem vertraut sein, der mit Software wie Microsoft Word gearbeitet hat.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-visual-editor" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-visual-editor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/reports/visual-editor.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-visual-editor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.6: Der visuelle Editor.
</figcaption></figure>
</div>
</div>
</div>
<p>Dies ist nützlich für komplexe Stile, aber Sie können auch diese häufigen Klartext-Stil-Markups verwenden:</p>
<ul>
<li>Überschriften werden erstellt, indem Sie Untertitel mit einer oder mehreren Rauten (<code>#</code>) und einem Leerzeichen präfixieren (lassen Sie das Leerzeichen nicht aus). Wenn Sie ein Inhaltsverzeichnis einschließen, wird dies aus Ihren Dokumentüberschriften erstellt.</li>
<li>Formatieren Sie Text mit <em>Kursivschrift</em> oder <strong>Fettdruck</strong>, indem Sie den Text mit ein oder zwei Sternchen oder Unterstrichen umgeben.</li>
<li>Erstellen Sie Listen mit Zahlen, Sternchen oder Bindestrichen vor den Elementen. Rücken Sie Elemente ein, um verschachtelte Listen zu erstellen.</li>
<li>Erstellen Sie Links so: <code>[psyTeachR](https://psyteachr.github.io/)</code>
</li>
<li>Laden Sie den <a href="https://www.rstudio.org/links/r_markdown_cheat_sheet">R Markdown Spickzettel</a> herunter, um mehr zu erfahren.</li>
</ul>
<p>Kopieren und fügen Sie den unten stehenden Text in den weißen Raum unterhalb des Codeblocks, der die Daten lädt, ein. Speichern Sie die Datei und klicken Sie dann auf Stricken, um die Ergebnisse zu sehen. Es wird ein wenig unordentlich aussehen, da es den Code und die Nachrichten vom Laden der Daten enthält, aber keine Sorge, wir werden das bald loswerden.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">## Beispiel-Verkaufsbericht</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>Dieser Bericht fasst die Verkaufsdaten für verschiedene Fahrzeugtypen zusammen, die zwischen 2003 und 2005 verkauft wurden. Diese Daten stammen von <span class="co">[</span><span class="ot">Kaggle</span><span class="co">](https://www.kaggle.com/kyanyoga/sample-sales-data)</span>.</span>
<span id="cb9-4"><a href="#cb9-4"></a></span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="fu">### Verkäufe nach Typ</span></span>
<span id="cb9-6"><a href="#cb9-6"></a></span>
<span id="cb9-7"><a href="#cb9-7"></a>Die *gesamte* Anzahl verkaufter **Flugzeuge** betrug <span class="in">`r sales_counts$n[3]`</span></span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a>Die *gesamte* Anzahl verkaufter **klassischer Autos** betrug <span class="in">`r sales_counts$n[1]`</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Das obige Beispiel-Markdown (und der Rest in diesem Buch) wird für den regulären Editor gezeigt, nicht für den visuellen Editor. Im visuellen Editor sehen Sie nicht die Rauten, die Überschriften erstellen, oder die Sternchen, die fetten und kursiven Text erstellen. Sie sehen auch nicht die Rückwärts-Apostrophen, die Inline-Code kennzeichnen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/reports/visual-editor-example.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Der obige Beispielcode im visuellen Editor.</figcaption></figure>
</div>
</div>
</div>
<p>Wenn Sie versuchen, die Rauten, Sternchen und Rückwärts-Apostrophen zum visuellen Editor hinzuzufügen, werden Sie frustriert sein, da sie verschwinden. Wenn Sie Erfolg haben, wird Ihr Code im regulären Editor so aussehen:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1"></a><span class="sc">\#\#\#</span> Verkäufe nach Typ</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a>Der <span class="sc">\*</span>gesamte<span class="sc">\*</span> Anzahl von <span class="sc">\*\*</span>Flugzeugen<span class="sc">\*\*</span> verkauft war <span class="sc">\`</span>r sales_counts\$n<span class="sc">\[</span>3]<span class="sc">\`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Versuchen Sie, den Inline-Code mit dem zu vergleichen, was in der Tabelle <code>sales_counts</code> steht. Zu beachten:</p>
<ul>
<li>Das <code>$</code>-Zeichen wird verwendet, um bestimmte Variablen (oder Spalten) in einem Objekt mit der Syntax <code>object$variable</code> anzugeben.</li>
<li>Eckige Klammern mit einer Zahl, z. B. <code>[3]</code>, geben eine bestimmte Beobachtung an</li>
<li>Also fragt <code>sales_counts$n[3]</code> den Inline-Code, die dritte Beobachtung der Variablen <code>n</code> im Datensatz <code>sales_online</code> anzuzeigen.</li>
</ul>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Weitere Übung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Fügen Sie eine weitere Zeile hinzu, die die Gesamtzahlen der <strong>Motorräder</strong> mit Inline-Code meldet. Verwenden Sie entweder den visuellen Editor oder Text-Markups, um Fettdruck und Kursivschrift hinzuzufügen, damit es den anderen entspricht.</p>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1"></a>Die *gesamte* Anzahl verkaufter **Motorräder** betrug <span class="in">`r sales_counts$n[2]`</span>.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section><section id="sec-comments" class="level3" data-number="2.6.3"><h3 data-number="2.6.3" class="anchored" data-anchor-id="sec-comments">
<span class="header-section-number">2.6.3</span> Codekommentare</h3>
<p>Im obigen Code haben wir Code <strong>Kommentare</strong> verwendet, und es ist wichtig zu betonen, wie nützlich diese sind. Sie können Kommentare in R-Blöcken mit dem Rautensymbol (<code>#</code>) hinzufügen. R wird Zeichen vom Rautensymbol bis zum Ende der Zeile ignorieren.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co"># wichtige Zahlen</span></span>
<span id="cb12-2"><a href="#cb12-2"></a></span>
<span id="cb12-3"><a href="#cb12-3"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(sales_online) <span class="co"># die Gesamtanzahl der Verkäufe (Anzahl der Zeilen)</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>first <span class="ot">&lt;-</span> <span class="fu">min</span>(sales_online<span class="sc">$</span>YEAR_ID) <span class="co"># das erste (minimale) Jahr</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>last <span class="ot">&lt;-</span> <span class="fu">max</span>(sales_online<span class="sc">$</span>YEAR_ID) <span class="co"># das letzte (maximale) Jahr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Es ist normalerweise eine gute Praxis, einen Codeblock mit einem Kommentar zu beginnen, der erklärt, was Sie dort tun, besonders wenn der Code nicht im Text des Berichts erklärt wird.</p>
<p>Wenn Sie Ihre Objekte klar benennen, müssen Sie oft keine klärenden Kommentare hinzufügen. Zum Beispiel, wenn ich die drei oben genannten Objekte <code>total_number_of_sales</code>, <code>first_year</code> und <code>last_year</code> genannt hätte, würde ich die Kommentare weglassen. Es ist eine Kunst, Ihren Code gut zu kommentieren, aber versuchen Sie, Kommentare hinzuzufügen, während Sie durch dieses Buch arbeiten - es wird Ihnen helfen, Ihr Lernen zu festigen, und wenn das z</p>
<p>ukünftige Sie Ihren Code überprüft, werden Sie dem vergangenen Sie für die Klarheit danken.</p>
</section><section id="sec-rmd-images" class="level3" data-number="2.6.4"><h3 data-number="2.6.4" class="anchored" data-anchor-id="sec-rmd-images">
<span class="header-section-number">2.6.4</span> Bilder</h3>
<p>Wie das Sprichwort sagt, malt ein Bild tausend Worte und manchmal möchten Sie Ihre Daten mithilfe von Visualisierungen kommunizieren.</p>
<p>Erstellen Sie einen Codeblock, um ein Diagramm der Daten in Ihrem Dokument nach dem bisher geschriebenen Text anzuzeigen. Wir verwenden einen Code, den Sie in <a href="08-data-viz.html" class="quarto-xref"><span>Chapter 8</span></a> genauer kennenlernen werden, um ein einfaches Balkendiagramm zu erstellen, das die Verkaufsdaten darstellt – konzentrieren Sie sich darauf zu versuchen, zu verstehen, wie Teile des Codes auf das erstellte Diagramm abgebildet werden.</p>
<p>Kopieren und fügen Sie den unten stehenden Code ein. Führen Sie den Code in Ihrem Markdown aus, um das Diagramm zu sehen, das es erstellt, und stricken Sie dann die Datei, um zu sehen, wie es in Ihrem Dokument angezeigt wird.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sales_counts, </span>
<span id="cb13-2"><a href="#cb13-2"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PRODUCTLINE, </span>
<span id="cb13-3"><a href="#cb13-3"></a>                     <span class="at">y =</span> n, </span>
<span id="cb13-4"><a href="#cb13-4"></a>                     <span class="at">fill =</span> PRODUCTLINE)) <span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Fahrzeugtyp"</span>,</span>
<span id="cb13-7"><a href="#cb13-7"></a>       <span class="at">y =</span> <span class="st">"Anzahl der Verkäufe"</span>,</span>
<span id="cb13-8"><a href="#cb13-8"></a>       <span class="at">title =</span> <span class="st">"Verkäufe nach Fahrzeugtyp"</span>,</span>
<span id="cb13-9"><a href="#cb13-9"></a>       <span class="at">subtitle =</span> <span class="st">"2003 - 2005"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="02.1-markdown_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Sie können auch Bilder einfügen, die Sie nicht in R erstellt haben, indem Sie die Markdown-Syntax für Bilder oder <code><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">knitr::include_graphics()</a></code> verwenden. Dies ist sehr ähnlich dem Laden von Daten, da Sie entweder ein Bild verwenden können, das auf Ihrem Computer gespeichert ist, oder über eine URL.</p>
<p>Erstellen Sie einen neuen Codeblock unterhalb jeder der Verkaufszahlen für Flugzeuge, klassische Autos und Motorräder und fügen Sie ein Bild von Google oder Wikipedia für jedes hinzu (klicken Sie mit der rechten Maustaste auf ein Bild und wählen Sie Bildadresse kopieren, um eine URL zu erhalten). Sehen Sie sich den Abschnitt über <a href="#rmd-setup">Chunk-Standards</a> an, um zu sehen, wie Sie die Anzeigegröße ändern können.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"https://upload.wikimedia.org/wikipedia/commons/3/3f/P-51_Mustang_edit1.jpg"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bildlizenzen
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die meisten Bilder auf Wikipedia sind gemeinfrei oder haben eine offene Lizenz. Sie können Bilder nach Lizenz auf Google Bilder suchen, indem Sie auf die Schaltfläche <if>Tools</if> klicken und “Creative Commons-Lizenzen” aus dem Menü “Nutzungsrechte” wählen.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="images/reports/google-images.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%" alt="Screenshot der Google Bilder-Schnittstelle mit geöffneten Auswahlmöglichkeiten für Nutzungsrechte."></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Alternativ können Sie die Markdown-Notation <code>![caption](url)</code> verwenden, um ein Bild anzuzeigen. Dies geht in den Markdown-Textbereich des Dokuments, nicht innerhalb eines grauen Codeblocks. Die Beschriftung ist optional; Sie können sie weglassen, wie dies:</p>
<p><code>![](images/reports/google-images.png)</code></p>
</section><section id="sec-rmd-tables" class="level3" data-number="2.6.5"><h3 data-number="2.6.5" class="anchored" data-anchor-id="sec-rmd-tables">
<span class="header-section-number">2.6.5</span> Tabellen</h3>
<p>Anstatt eine Abbildung zu verwenden, möchten wir vielleicht unsere Daten in einer Tabelle anzeigen.</p>
<ul>
<li>Fügen Sie eine neue Überschrift der Ebene 2 (zwei Rauten) zu Ihrem Dokument hinzu, benennen Sie die Überschrift “Daten in Tabellenform”, und erstellen Sie dann einen neuen Codeblock darunter.</li>
</ul>
<p>Zuerst sehen wir, wie die Tabelle aussieht, wenn wir keine Änderungen vornehmen. Schreiben Sie einfach den Namen der Tabelle, die Sie anzeigen möchten, in den Codeblock (in unserem Fall <code>sales_counts</code>), und klicken Sie dann auf Stricken, um zu sehen, wie sie aussieht.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>sales_counts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<pre><code>## # A tibble: 3 × 2
## # Groups:   PRODUCTLINE [3]
##   PRODUCTLINE      n
##   &lt;chr&gt;        &lt;int&gt;
## 1 Classic Cars   967
## 2 Motorcycles    331
## 3 Planes         306</code></pre>
<p>Es ist gerade noch lesbar, aber nicht großartig.</p>
<p>Eine andere Möglichkeit, Tabellen anzupassen, verwendet die Funktion <code>kable()</code> aus dem Paket <code>kableExtra</code>.</p>
<p>Ändern Sie Ihren Code, um das Paket <code>kableExtra</code> zu laden und die Funktion <code>kable()</code> auf die Tabelle anzuwenden. Stricken Sie die Datei erneut, um das Ergebnis zu sehen.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">library</span>(kableExtra) <span class="co"># für die Tabellenanzeige</span></span>
<span id="cb17-2"><a href="#cb17-2"></a></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">kable</span>(sales_counts) <span class="co"># wende die kable-Funktion an</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">PRODUCTLINE</th>
<th style="text-align: right;">n</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Classic Cars</td>
<td style="text-align: right;">967</td>
</tr>
<tr class="even">
<td style="text-align: left;">Motorcycles</td>
<td style="text-align: right;">331</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Planes</td>
<td style="text-align: right;">306</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Es ist besser, aber immer noch nicht erstaunlich. Also lassen Sie uns einige Anpassungen vornehmen. Wir können die Namen der Spalten ändern, eine Beschriftung hinzufügen und auch die Ausrichtung des Zellinhalts mithilfe von Argumenten für <code>kable()</code> ändern.</p>
<p>Wir können auch ein Thema hinzufügen, um den Gesamtstil zu ändern. In diesem Beispiel haben wir <code>kable_classic</code> verwendet, aber es gibt 5 andere: <code>kable_paper</code>, <code>kable_classic_2</code>, <code>kable_minimal</code>, <code>kable_material</code> und <code>kable_material_dark</code>. Probieren Sie sie alle aus und sehen Sie, welchen Sie bevorzugen.</p>
<p>Schließlich können wir die Formatierung der ersten Zeile mithilfe von <code>row_spec</code> ändern. Schauen Sie sich die Hilfedokumentation für <code>row_spec</code> an, um zu sehen, welche anderen Optionen verfügbar sind. Versuchen Sie, den Wert eines der folgenden Argumente zu ändern, um herauszufinden, was sie tun.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sales_data.Rmd</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>k <span class="ot">&lt;-</span> <span class="fu">kable</span>(sales_counts, </span>
<span id="cb18-2"><a href="#cb18-2"></a>      <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Produkt"</span>, <span class="st">"Verkäufe"</span>),</span>
<span id="cb18-3"><a href="#cb18-3"></a>      <span class="at">caption =</span> <span class="st">"Anzahl der Verkäufe pro Produktlinie."</span>, </span>
<span id="cb18-4"><a href="#cb18-4"></a>      <span class="at">align =</span> <span class="st">"c"</span>)</span>
<span id="cb18-5"><a href="#cb18-5"></a>k_style <span class="ot">&lt;-</span> <span class="fu">kable_classic</span>(k, <span class="at">full_width =</span> <span class="cn">FALSE</span>) </span>
<span id="cb18-6"><a href="#cb18-6"></a>k_highlighted <span class="ot">&lt;-</span> <span class="fu">row_spec</span>(k_style, <span class="at">row =</span> <span class="dv">0</span>, <span class="at">bold =</span> <span class="cn">TRUE</span>, <span class="at">color =</span> <span class="st">"red"</span>) </span>
<span id="cb18-7"><a href="#cb18-7"></a></span>
<span id="cb18-8"><a href="#cb18-8"></a>k_highlighted</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output-display">
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>Anzahl der Verkäufe pro Produktlinie.</caption>
 <thead><tr>
<th style="text-align:center;font-weight: bold;color: red !important;"> Produkt </th>
   <th style="text-align:center;font-weight: bold;color: red !important;"> Verkäufe </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:center;"> Classic Cars </td>
   <td style="text-align:center;"> 967 </td>
  </tr>
<tr>
<td style="text-align:center;"> Motorcycles </td>
   <td style="text-align:center;"> 331 </td>
  </tr>
<tr>
<td style="text-align:center;"> Planes </td>
   <td style="text-align:center;"> 306 </td>
  </tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Platzierung der Beschriftung
</div>
</div>
<div class="callout-body-container callout-body">
<p>Das Aussehen und die Platzierung der Tabellenbeschriftung hängen von der Art des Dokuments ab, das Sie erstellen. Ihre Beschriftungen sehen möglicherweise anders aus als die in diesem Buch, da Sie ein <code>html_document</code> mit einer einzigen Seite erstellen, während dieses Buch den <code>html</code>-Stil von <a href="https://quarto.org/">quarto</a> verwendet, einer neueren Alternative zu R Markdown. Sie werden mehr über andere Dokumentausgabetypen in <span class="quarto-unresolved-ref">?sec-custom-reports</span> lernen.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Erweiterte Tabellenanpassung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Wenn Sie sich mit dem bisher Besprochenen sicher fühlen, gibt das <a href="https://haozhu233.github.io/kableExtra/awesome_table_in_html.html" target="_blank">kableExtra-Vignette</a> viel mehr Details darüber, wie Sie Ihre Tabellen mithilfe von <code>kableExtra</code> bearbeiten können.</p>
<p>Sie können auch das <a href="https://gt.rstudio.com/" target="_blank">gt</a>-Paket erkunden, das komplex ist, aber es Ihnen ermöglicht, wunderschöne angepasste Tabellen zu erstellen. <a href="https://bjnnowak.netlify.app/2021/10/04/r-beautiful-tables-with-gt-and-gtextras/" target="_blank">Riding tables with {gt} and {gtExtras}</a> ist ein hervorragendes Tutorial.</p>
</div>
</div>
</div>
</section></section><section id="ihren-bericht-verfeinern" class="level2" data-number="2.7"><h2 data-number="2.7" class="anchored" data-anchor-id="ihren-bericht-verfeinern">
<span class="header-section-number">2.7</span> Ihren Bericht verfeinern</h2>
<section id="sec-rmd-setup" class="level3" data-number="2.7.1"><h3 data-number="2.7.1" class="anchored" data-anchor-id="sec-rmd-setup">
<span class="header-section-number">2.7.1</span> Chunk-Standards</h3>
<p>Lassen Sie uns damit abschließen, den Bericht aufzuräumen und unseren Code etwas besser zu organisieren. Wenn Sie eine neue R Markdown-Datei in RStudio erstellen, wird automatisch ein Setup-Block erstellt - wir haben diesen Block bisher größtenteils ignoriert.</p>
<div class="cell" data-layout-align="center" data-verbatim="r setup, include=FALSE">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r setup, include=FALSE}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<p>Sie können hier weitere Standardoptionen für Ihr Dokument festlegen. Geben Sie den folgenden Code in die Konsole ein, um die vollständige Liste der Optionen, die Sie festlegen können, und ihrer Standardwerte zu sehen. Die nützlichsten und häufigsten Optionen, die Sie für das Schreiben von Berichten ändern möchten, drehen sich jedoch darum, ob Sie Ihren Code anzeigen möchten und wie groß Ihre Bilder sein sollen.</p>
<div class="cell" data-layout-align="center">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>In der Konsole ausführen</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a><span class="co"># Liste der Standardoptionen</span></span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="fu">str</span>(knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">get</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Ersetzen Sie den Code in Ihrem Setup-Block mit dem unten stehenden Code und versuchen Sie dann, jede Option von <code>FALSE</code> auf <code>TRUE</code> zu ändern und die numerischen Werte zu ändern, und stricken Sie die Datei erneut, um den Unterschied zu sehen, den es macht.</p>
<div class="cell" data-layout-align="center" data-verbatim="r setup, include=FALSE" data-filename="sales_data.Rmd">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r setup, include=FALSE}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(</span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="at">echo       =</span> <span class="cn">FALSE</span>, <span class="co"># ob Codeblöcke angezeigt werden</span></span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="at">message    =</span> <span class="cn">FALSE</span>, <span class="co"># ob Nachrichten von Ihrem Code angezeigt werden</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="at">warning    =</span> <span class="cn">FALSE</span>, <span class="co"># ob Warnungen von Ihrem Code angezeigt werden</span></span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="at">fig.width  =</span> <span class="dv">8</span>,     <span class="co"># Abbildungsbreite in Zoll (bei 96 dpi)</span></span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="at">fig.height =</span> <span class="dv">5</span>,     <span class="co"># Abbildungshöhe in Zoll (bei 96 dpi)</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="at">out.width =</span> <span class="st">"50%"</span>   <span class="co"># Abbildungen/Bilder nehmen 50% der Seitenbreite ein</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Abbildungs- versus Ausgabedimensionen
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Beachten Sie, dass <code>fig.width</code> und <code>fig.height</code> die ursprüngliche Größe und das Seitenverhältnis von Bildern steuern, die von R generiert werden, wie z. B. Diagramme. Dies beeinflusst die relative Größe von Text und anderen Elementen in Diagrammen. Es hat keinen Einfluss auf die Größe vorhandener Bilder. <code>out.width</code> steuert jedoch die <strong>Anzeigegröße</strong> sowohl vorhandener Bilder als auch von R generierter Abbildungen. Dies wird normalerweise als Prozentsatz der Seitenbreite eingestellt.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-full-100" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-full-100-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02.1-markdown_files/figure-html/fig-full-100-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-full-100-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.7: Ein Diagramm mit den Standardwerten von fig.width = 8, fig.height = 5, out.width = “100%”
</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-half-100" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-half-100-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02.1-markdown_files/figure-html/fig-half-100-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-half-100-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.8: Das gleiche Diagramm mit der Hälfte der Standardbreite und -höhe: fig.width = 4, fig.height = 2.5, out.width = “100%”
</figcaption></figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-half-50" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-half-50-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="02.1-markdown_files/figure-html/fig-half-50-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:50.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-half-50-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.9: Das gleiche Diagramm wie oben bei der Hälfte der Ausgabebreite: fig.width = 4, fig.height = 2.5, out.width = “50%”
</figcaption></figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section id="standards-überschreiben" class="level3" data-number="2.7.2"><h3 data-number="2.7.2" class="anchored" data-anchor-id="standards-überschreiben">
<span class="header-section-number">2.7.2</span> Standards überschreiben</h3>
<p>Diese Setup-Optionen ändern das Verhalten für das gesamte Dokument, jedoch können Sie das Verhalten für einzelne Codeblöcke überschreiben.</p>
<p>Zum Beispiel möchten Sie standardmäßig vielleicht Ihren Code verbergen, aber es könnte auch eine Gelegenheit geben, bei der Sie den Code, den Sie zur Analyse Ihrer Daten verwendet haben, anzeigen möchten. Sie können <code>echo = FALSE</code> in Ihrem Setup-Block einstellen, um das Verbergen von Code zur Standardeinstellung zu machen, aber im einzelnen Codeblock für Ihr Diagramm <code>echo = TRUE</code> einstellen. Versuchen Sie dies jetzt und stricken Sie die Datei, um die Ergebnisse zu sehen.</p>
<div class="cell" data-layout-align="center" data-verbatim="r, echo = TRUE" data-filename="sales_data.Rmd">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r, echo = TRUE}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sales_counts, </span>
<span id="cb22-2"><a href="#cb22-2"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PRODUCTLINE, </span>
<span id="cb22-3"><a href="#cb22-3"></a>                     <span class="at">y =</span> n, </span>
<span id="cb22-4"><a href="#cb22-4"></a>                     <span class="at">fill =</span> PRODUCTLINE)) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5"></a>  <span class="fu">geom_col</span>(<span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Fahrzeugtyp"</span>,</span>
<span id="cb22-7"><a href="#cb22-7"></a>       <span class="at">y =</span> <span class="st">"Anzahl der Verkäufe"</span>,</span>
<span id="cb22-8"><a href="#cb22-8"></a>       <span class="at">title =</span> <span class="st">"Verkäufe nach Fahrzeugtyp"</span>,</span>
<span id="cb22-9"><a href="#cb22-9"></a>       <span class="at">subtitle =</span> <span class="st">"2003 - 2005"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<p>Zusätzlich können Sie auch die Standardanzeigegröße oder -abmessungen von Bildern überschreiben.</p>
<div class="cell" data-layout-align="center" data-verbatim="r, out.width='25%'">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r, out.width='25%'}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"https://upload.wikimedia.org/wikipedia/commons/3/3f/P-51_Mustang_edit1.jpg"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
<div class="cell" data-layout-align="center" data-verbatim="r, fig.width = 10, fig.height = 20" data-filename="sales_data.Rmd">
<div class="verbatim">
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```{r, fig.width = 10, fig.height = 20}</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> sales_counts,  </span>
<span id="cb24-2"><a href="#cb24-2"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PRODUCTLINE, <span class="at">y =</span> n, <span class="at">fill =</span> PRODUCTLINE)) <span class="sc">+</span>  </span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span>  </span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Fahrzeugtyp"</span>,  </span>
<span id="cb24-5"><a href="#cb24-5"></a>       <span class="at">y =</span> <span class="st">"Anzahl der Verkäufe"</span>,  </span>
<span id="cb24-6"><a href="#cb24-6"></a>       <span class="at">title =</span> <span class="st">"Verkäufe nach Fahrzeugtyp"</span>,  </span>
<span id="cb24-7"><a href="#cb24-7"></a>       <span class="at">subtitle =</span> <span class="st">"2003 - 2005"</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="sourceCode r code-with-copy"><code class="sourceCode R">```</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre>
</div>
</div>
</section><section id="pakete-laden" class="level3" data-number="2.7.3"><h3 data-number="2.7.3" class="anchored" data-anchor-id="pakete-laden">
<span class="header-section-number">2.7.3</span> Pakete laden</h3>
<p>Sie sollten die Pakete, die Sie benötigen, in Ihrem Setup-Block mit <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> laden. Oft, wenn Sie an einem Skript arbeiten, stellen Sie fest, dass Sie ein weiteres Add-on-Paket laden müssen. Vergraben Sie den Aufruf von <code><a href="https://rdrr.io/r/base/library.html">library(package_I_need)</a></code> nicht irgendwo im Skript. Fügen Sie es in den Setup-Block ein, damit der Benutzer einen Überblick darüber hat, welche Pakete benötigt werden.</p>
<div class="try callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bibliotheksaufrufe in den Setup-Block verschieben
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verschieben Sie den Code, der <code>tidyverse</code> und <code>kableExtra</code> lädt, in den Setup-Block.</p>
</div>
</div>
</section><section id="sec-yaml" class="level3" data-number="2.7.4"><h3 data-number="2.7.4" class="anchored" data-anchor-id="sec-yaml">
<span class="header-section-number">2.7.4</span> YAML-Header</h3>
<p>Schließlich ist der <a href="https://psyteachr.github.io/glossary/y#yaml" target="_blank" class="glossary" title="A structured format for information">YAML</a>-Header der Teil ganz oben in Ihrem Markdown-Dokument. Hier können Sie auch mehrere Optionen festlegen.</p>
<pre><code>---  
title: "Verkaufsdaten-Bericht"  
author: "Ihr Name"  
output:  
  html_document:  
    df_print: paged  
    theme:  
      version: 4  
      bootswatch: yeti  
    toc: true  
    toc_float:  
      collapsed: false  
      smooth_scroll: false  
    toc_depth: 3  
    number_sections: false  
---  </code></pre>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Versuchen
</div>
</div>
<div class="callout-body-container callout-body">
<p>Ändern Sie die Werte von <code>false</code> auf <code>true</code>, um zu sehen, was die Optionen bewirken.</p>
</div>
</div>
<p>Die Option <code>df_print: paged</code> druckt Datenrahmen automatisch mit <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/paged_table.html">rmarkdown::paged_table()</a></code> aus. Sie können <code>df_print: kable</code> verwenden, um standardmäßig den einfachen kable-Stil zu verwenden, aber Sie benötigen den Code aus <a href="#sec-rmd-tables" class="quarto-xref"><span>Section 2.6.5</span></a> für komplexere Tabellen mit kableExtra.</p>
<p>Die eingebauten BootsWatch-Themen sind: default, cerulean, cosmo, darkly, flatly, journal, lumen, paper, readable, sandstone, simplex, spacelab, united und yeti. Sie können <a href="https://bootswatch.com/4/">mehr Themen anzeigen und herunterladen</a>. Ändern Sie das Thema, um zu sehen, welches Ihnen am besten gefällt.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-bootswatch" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-bootswatch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="images/reports/bootswatch.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bootswatch-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2.10: Helle Themen in den Versionen 3 und 4.
</figcaption></figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
YAML-Formatierung
</div>
</div>
<div class="callout-body-container callout-body">
<p>YAML-Header können sehr wählerisch in Bezug auf Leerzeichen und Semikolons sein (der Rest von R Markdown ist viel verzeihender). Wenn Sie beispielsweise ein Leerzeichen vor “author” einfügen, erhalten Sie einen Fehler, der wie folgt aussieht:</p>
<pre><code>Error in yaml::yaml.load(..., eval.expr = TRUE) :  
  Parser error: while parsing a block mapping at line 1,  
  column 1 did not find expected key at line 2, column 2  </code></pre>
<p>Die Fehlermeldung zeigt Ihnen genau, wo das Problem liegt (das zweite Zeichen der zweiten Zeile des YAML-Headers), und es handelt sich normalerweise um Tippfehler oder falsche Einrückungen.</p>
</div>
</div>
</section><section id="sec-toc" class="level3" data-number="2.7.5"><h3 data-number="2.7.5" class="anchored" data-anchor-id="sec-toc">
<span class="header-section-number">2.7.5</span> Inhaltsverzeichnis</h3>
<p>Das Inhaltsverzeichnis wird erstellt, indem <code>toc: true</code> gesetzt wird. Es wird oben in Ihrem Dokument angezeigt, es sei denn, Sie setzen <code>toc_float: true</code> oder fügen <code>toc_float:</code> mit den Optionen <code>collapsed</code> und <code>smooth_scroll</code> hinzu (Optionen für eine Einstellung werden darunter eingerückt).</p>
<pre><code>---  
output:  
  html_document:  
    toc: true  
    toc_float:  
      collapsed: false  
      smooth_scroll: false  
    toc_depth: 3  
---  </code></pre>
<p>Dies verwendet die Markdown-Überschriftenstruktur, um das Inhaltsverzeichnis zu erstellen. <code>toc_depth: 3</code> bedeutet, dass das Inhaltsverzeichnis nur Überschriften bis Ebene 3 anzeigt (d.&nbsp;h. diejenigen, die mit drei Rauten beginnen: <code>###</code>). Fügen Sie <code>{-}</code> nach dem Überschriftentitel hinzu, um es aus dem Inhaltsverzeichnis zu entfernen (z. B. <code>### Übersicht {-}</code>).</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Falsch formatiertes ToC
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn Ihr Inhaltsverzeichnis nicht richtig angezeigt wird, bedeutet dies wahrscheinlich, dass Ihre Überschriften nicht richtig eingerichtet sind. Stellen Sie sicher, dass Überschriften keine Leerzeichen vor den Rauten und mindestens ein Leerzeichen nach den Rauten haben. Zum Beispiel wird <code>##Analysis</code> nicht als Überschrift angezeigt und dem Inhaltsverzeichnis hinzugefügt, aber <code>## Analysis</code> schon.</p>
</div>
</div>
</section><section id="formate" class="level3" data-number="2.7.6"><h3 data-number="2.7.6" class="anchored" data-anchor-id="formate">
<span class="header-section-number">2.7.6</span> Formate</h3>
<p>Bisher haben wir nur nach HTML gestrickt. Um PDF-Berichte zu erstellen, müssen Sie <pkg>tinytex</pkg><span class="citation" data-cites="R-tinytex">(<a href="#ref-R-tinytex" role="doc-biblioref">Xie, 2021</a>)</span> installieren und den folgenden Code in der Konsole ausführen (fügen Sie dies <strong>nicht</strong> in Ihr Rmd-Skript ein):</p>
<div class="cell" data-layout-align="center" data-filname="In der Konsole ausführen">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">install.packages</span>(<span class="st">"tinytex"</span>)  </span>
<span id="cb28-2"><a href="#cb28-2"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Sobald Sie dies getan haben, aktualisieren Sie Ihren YAML-Header, um einen <code>pdf_document</code>-Abschnitt hinzuzufügen, und stricken Sie ein PDF-Dokument. Die Optionen für PDFs sind im Vergleich zu HTML-Dokumenten eingeschränkter, daher müssen Sie möglicherweise einige Optionen entfernen, wie z. B. <code>toc_float</code>, wenn Sie eine Fehlermeldung erhalten, die so aussieht: “Functions that produce HTML output found in document targeting PDF output.”</p>
<pre><code>---  
output:  
  pdf_document:  
    toc: TRUE  
  html_document:  
    toc: TRUE  
    toc_float: TRUE  
---  </code></pre>
<p>Als Alternative können Sie auch in ein Word-Dokument stricken. Wenn Sie auf die Schaltfläche <strong><code>Knit</code></strong> klicken, wird standardmäßig das erste Format gestrickt, aber Sie können das Dropdown-Menü unter der Schaltfläche Knit verwenden, um ein anderes Format auszuwählen.</p>
<pre><code>---  
output:  
  pdf_document:  
    toc: TRUE  
  html_document:  
    toc: TRUE  
    toc_float: TRUE  
  word_document:  
    toc: TRUE  
---  </code></pre>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Strickfehler
</div>
</div>
<div class="callout-body-container callout-body">
<p>Wenn Sie auf Fehler stoßen, fragen Sie im Teams um Hilfe - das Stricken zu PDF oder Word kann knifflig sein.</p>
</div>
</div>
</section><section id="sec-reports-summary" class="level3" data-number="2.7.7"><h3 data-number="2.7.7" class="anchored" data-anchor-id="sec-reports-summary">
<span class="header-section-number">2.7.7</span> Zusammenfassung</h3>
<p>Dieses Kapitel hat viel abgedeckt, aber hoffentlich haben Sie jetzt eine viel bessere Vorstellung davon, was Markdown leisten kann. Während die Arbeit in Markdown am Anfang länger dauert, können Sie, sobald Sie einen vollständig reproduzierbaren Bericht haben, neue Daten jede Woche oder jeden Monat einfügen und einfach auf Stricken klicken, um doppelten Aufwand und menschliche Fehler zu reduzieren.</p>
<p>Sie können eine <a href="demos/sales_data.Rmd" download="important_info.Rmd">arbeitsfähige R Markdown-Datei</a> mit dem Code aus dem obigen Beispiel vergleichen.</p>
<p>Im weiteren Verlauf des Buches werden Sie lernen, wie man Daten bereinigt und analysiert und wie man Markdown verwendet, um sie zu präsentieren. Wir werden die verfügbaren Anpassungsoptionen langsam erweitern, sodass Ihre Markdown-Berichte im Laufe der nächsten Wochen immer polierter und professioneller aussehen werden.</p>
</section></section><section id="sec-glossary-intro" class="level2" data-number="2.8"><h2 data-number="2.8" class="anchored" data-anchor-id="sec-glossary-intro">
<span class="header-section-number">2.8</span> Glossar</h2>
<p>Das Glossar am Ende jedes Kapitels definiert gängige Fachbegriffe, denen du beim Erlernen von R begegnen könntest. Dieser spezialisierte Wortschatz kann dir helfen, effizienter zu kommunizieren und nach Lösungen für Probleme zu suchen. Die unten stehenden Begriffe verlinken zum <a href="https://psyteachr.github.io/glossary/">PsyTeachR-Glossar</a>, das weitere Informationen und Beispiele enthält.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<thead><tr class="header">
<th style="text-align: left;">term</th>
<th style="text-align: left;">definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/d#directory" class="glossary" target="_blank">directory</a></td>
<td style="text-align: left;">A collection or “folder” of files on a computer.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/e#extension" class="glossary" target="_blank">extension</a></td>
<td style="text-align: left;">The end part of a file name that tells you what type of file it is (e.g., .R or .Rmd).</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/k#knit" class="glossary" target="_blank">knit</a></td>
<td style="text-align: left;">To create an HTML, PDF, or Word document from an R Markdown (Rmd) document</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/m#markdown" class="glossary" target="_blank">markdown</a></td>
<td style="text-align: left;">A way to specify formatting, such as headers, paragraphs, lists, bolding, and links.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/p#project" class="glossary" target="_blank">project</a></td>
<td style="text-align: left;">A way to organise related files in RStudio</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/r#r-markdown" class="glossary" target="_blank">r-markdown</a></td>
<td style="text-align: left;">The R-specific version of markdown: a way to specify formatting, such as headers, paragraphs, lists, bolding, and links, as well as code blocks and inline code.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/s#script" class="glossary" target="_blank">script</a></td>
<td style="text-align: left;">A plain-text file that contains commands in a coding language, such as R.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/w#working-directory" class="glossary" target="_blank">working-directory</a></td>
<td style="text-align: left;">The filepath where R is currently reading and writing files.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><a href="https://psyteachr.github.io/glossary/y#yaml" class="glossary" target="_blank">yaml</a></td>
<td style="text-align: left;">A structured format for information</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-R-tinytex" class="csl-entry" role="listitem">
Xie, Y. (2021). <em>Tinytex: Helper functions to install and maintain TeX live, and compile LaTeX documents</em>. <a href="https://github.com/yihui/tinytex">https://github.com/yihui/tinytex</a>
</div>
</div>
</section></main><!-- /main --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    $(solveme[i]).after(" <span class='webex-icon'></span>");
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    $(selects[i]).after(" <span class='webex-icon'></span>");
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );

  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
  
  
  var elem = document.getElementById("tabset-1-1-tab");
    if (elem) {
        elem.textContent = "Code";
    }
    
 var elem = document.getElementById("tabset-1-2-tab");
    if (elem) {
        elem.textContent = "Interaktiv";
    }
    
    
});
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./02-test.html" class="pagination-link" aria-label="Einführung in R und RStudio">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einführung in R und RStudio</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03-coding-basics.html" class="pagination-link" aria-label="Coding basics">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Coding basics</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>This is a translation/adaptation of the book <a href="https://psyteachr.github.io/ads-v3/">Applied Data Skills</a> by Emily Nordmann and Lisa DeBruine</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/psyteachr/ads-v3/edit/master/02.1-markdown.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/psyteachr/ads-v3/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/psyteachr/ads-v3/blob/master/02.1-markdown.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/psyteachr/ads-v3">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/psyteachr">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://doi.org/10.5281/zenodo.6365077">
      <i class="bi bi-https://zenodo.org/badge/DOI/10.5281/zenodo.6365077.svg" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>