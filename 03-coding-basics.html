<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Einführung in die Datenanalyse mit R - 3&nbsp; Coding basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./04-import-export.html" rel="next">
<link href="./02.1-markdown.html" rel="prev">
<link href="./images/logos/favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><link rel="stylesheet" href="include/psyteachr.css">
<link rel="stylesheet" href="include/webex.css">
<link rel="stylesheet" href="include/style.css">
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03-coding-basics.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Coding basics</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Einführung in die Datenanalyse mit R</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/psyteachr/ads-v3/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Übersicht</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Einführung in R und RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02.1-markdown.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown erstellen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-coding-basics.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Coding basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-import-export.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten Import und Export in R</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-tibbles.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Einführung in Tibbles</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Datenbereinigung</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-joins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Datenbeziehungen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-data-viz.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Datenvisualisierung</span></span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#erstellung-des-ersten-skripts" id="toc-erstellung-des-ersten-skripts" class="nav-link active" data-scroll-target="#erstellung-des-ersten-skripts"><span class="header-section-number">3.1</span> Erstellung des ersten Skripts</a></li>
  <li><a href="#code-%C3%BCber-skripte-ausf%C3%BChren" id="toc-code-über-skripte-ausführen" class="nav-link" data-scroll-target="#code-%C3%BCber-skripte-ausf%C3%BChren"><span class="header-section-number">3.2</span> Code über Skripte ausführen</a></li>
  <li><a href="#variablen" id="toc-variablen" class="nav-link" data-scroll-target="#variablen"><span class="header-section-number">3.3</span> Variablen</a></li>
  <li>
<a href="#coding-best-practices" id="toc-coding-best-practices" class="nav-link" data-scroll-target="#coding-best-practices"><span class="header-section-number">3.4</span> Coding best practices</a>
  <ul class="collapse">
<li><a href="#sinnvolle-variablennamen" id="toc-sinnvolle-variablennamen" class="nav-link" data-scroll-target="#sinnvolle-variablennamen"><span class="header-section-number">3.4.1</span> Sinnvolle Variablennamen</a></li>
  <li><a href="#kommentare" id="toc-kommentare" class="nav-link" data-scroll-target="#kommentare"><span class="header-section-number">3.4.2</span> Kommentare</a></li>
  </ul>
</li>
  <li><a href="#platzierung-und-formatierung-des-codes" id="toc-platzierung-und-formatierung-des-codes" class="nav-link" data-scroll-target="#platzierung-und-formatierung-des-codes"><span class="header-section-number">3.5</span> Platzierung und Formatierung des Codes</a></li>
  <li><a href="#r-objekte" id="toc-r-objekte" class="nav-link" data-scroll-target="#r-objekte"><span class="header-section-number">3.6</span> R-Objekte</a></li>
  <li><a href="#operationen-mit-numerischen-werten" id="toc-operationen-mit-numerischen-werten" class="nav-link" data-scroll-target="#operationen-mit-numerischen-werten"><span class="header-section-number">3.7</span> Operationen mit numerischen Werten</a></li>
  <li><a href="#operationen-mit-logischen-werten" id="toc-operationen-mit-logischen-werten" class="nav-link" data-scroll-target="#operationen-mit-logischen-werten"><span class="header-section-number">3.8</span> Operationen mit logischen Werten</a></li>
  <li><a href="#operationen-mit-r-objekten" id="toc-operationen-mit-r-objekten" class="nav-link" data-scroll-target="#operationen-mit-r-objekten"><span class="header-section-number">3.9</span> Operationen mit R-Objekten</a></li>
  <li><a href="#einfache-funktionen" id="toc-einfache-funktionen" class="nav-link" data-scroll-target="#einfache-funktionen"><span class="header-section-number">3.10</span> Einfache Funktionen</a></li>
  <li><a href="#variablen-kombinieren-mehrerer-r-objekte-in-einer-variable" id="toc-variablen-kombinieren-mehrerer-r-objekte-in-einer-variable" class="nav-link" data-scroll-target="#variablen-kombinieren-mehrerer-r-objekte-in-einer-variable"><span class="header-section-number">3.11</span> Variablen: Kombinieren mehrerer R-Objekte in einer Variable</a></li>
  <li><a href="#indizierung" id="toc-indizierung" class="nav-link" data-scroll-target="#indizierung"><span class="header-section-number">3.12</span> Indizierung</a></li>
  <li>
<a href="#spezielle-variablenwerte" id="toc-spezielle-variablenwerte" class="nav-link" data-scroll-target="#spezielle-variablenwerte"><span class="header-section-number">3.13</span> Spezielle Variablen/Werte</a>
  <ul class="collapse">
<li><a href="#leere-variable" id="toc-leere-variable" class="nav-link" data-scroll-target="#leere-variable"><span class="header-section-number">3.13.1</span> Leere Variable</a></li>
  <li><a href="#na--oder-nan-wert" id="toc-na--oder-nan-wert" class="nav-link" data-scroll-target="#na--oder-nan-wert"><span class="header-section-number">3.13.2</span> NA- oder NaN-Wert</a></li>
  <li><a href="#inf-wert" id="toc-inf-wert" class="nav-link" data-scroll-target="#inf-wert"><span class="header-section-number">3.13.3</span> Inf-Wert</a></li>
  <li><a href="#gut-zu-wissen-rundungsgenauigkeit-in-r" id="toc-gut-zu-wissen-rundungsgenauigkeit-in-r" class="nav-link" data-scroll-target="#gut-zu-wissen-rundungsgenauigkeit-in-r"><span class="header-section-number">3.13.4</span> Gut zu wissen: Rundungsgenauigkeit in R</a></li>
  </ul>
</li>
  <li>
<a href="#variablentypen" id="toc-variablentypen" class="nav-link" data-scroll-target="#variablentypen"><span class="header-section-number">3.14</span> Variablentypen</a>
  <ul class="collapse">
<li><a href="#vektoren" id="toc-vektoren" class="nav-link" data-scroll-target="#vektoren"><span class="header-section-number">3.14.1</span> Vektoren</a></li>
  <li><a href="#listen" id="toc-listen" class="nav-link" data-scroll-target="#listen"><span class="header-section-number">3.14.2</span> Listen</a></li>
  </ul>
</li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/psyteachr/ads-v3/edit/master/03-coding-basics.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/psyteachr/ads-v3/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/psyteachr/ads-v3/blob/master/03-coding-basics.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title">
<span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Coding basics</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>In diesem Kapitel lernen wir die Basics des Programmierens mit R. Hier mag einiges noch abstrakt und zusammenhangslos erscheinen. Die hier behandelten Konzepte werden aber im Verlaufe des Semesters immer wieder auftauchen und damit verständlicher werden.</p>
<section id="erstellung-des-ersten-skripts" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="erstellung-des-ersten-skripts">
<span class="header-section-number">3.1</span> Erstellung des ersten Skripts</h2>
<p>Wie wir im ersten Kapitel gesehen haben ist ein Grund für die Verwendung von RStduio, dass wir damit R-Skripte erstellen und ausführen können. Wir könnten den Code zwar auch direkt in der Konsole ausführen, das ist jedoch mühsam und unübersichtlich. Deshalb erstellen wir als erstes ein neues R-Skript, in dem wir die hier besprochenen “Befehle” (Codes) sammeln und abspeichern. Dies hat auch den Vorteil, dass die ausgeführten Analysen reproduzierbar sind. Wollen wir die durchgeführten Analysen zu einem späteren Zeitpunkt nochmals wiederholen, öffnen wir einfach wieder das gespeicherte Skript und lassen dieses laufen (sprich “schicken” den Code an die R-Konsole).</p>
<p>Die Verwendung der Konsole ist sehr praktisch, zeichnet jedoch nicht auf, was wir gemacht haben. R-Skripte dienen genau diesem Zweck: Sie sammeln Ihre Befehle, die Sie als Datei speichern und jederzeit erneut ausführen können. Dies ist die erste Säule guter Codierung: reproduzierbare Codes.</p>
<p>Um ein neues Skript zu erstellen, kann man auf Datei -&gt; Neues Dokument -&gt; R-Skript klicken oder einfach Umschalt+cmd+N auf dem Mac oder Umschalt+Ctrl+N auf Windows drücken.</p>
</section><section id="code-über-skripte-ausführen" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="code-über-skripte-ausführen">
<span class="header-section-number">3.2</span> Code über Skripte ausführen</h2>
<p>Im Grunde genommen ist R nichts anderes, als ein fancy Taschenrechner. So können wir die Summe von 1 + 1 berechnen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>Um diesen Code auszuführen müssen wir ihn wie gesagt an die Konsole “schicken”. Dies geschieht am einfachsten, indem man mit dem Cursor auf die Zeile klickt, die man ausführen möchte (die horizontale Position spielt dabei keine Rolle) und dann Ctrl + Enter (Windows) oder Cmd + Enter (Mac) drückt.</p>
<p>Um diesen Code auszuführen, müssen Sie ihn über die Konsole ausführen, was auf verschiedene Arten geschehen kann. Der offensichtlichste Weg ist, ihn in die Konsole zu kopieren und einzufügen, was jedoch nicht sehr effizient ist. Am schnellsten ist es, den Cursor in die Zeile zu bringen, die Sie ausführen möchten, und cmd+Return oder Strg+Eingabe zu drücken.</p>
<p><strong>Tipp:</strong> Man mann mehrere Zeilen auf einmal auswählen und dieselbe Methode verwenden, um mehrere Codes (Codeblock) auf einmal auszuführen.</p>
<p>Neben zahlen versteht R auch Zeichen (Text), dabei müssen wir jedoch vor und nach dem Text die Anführungszeichen ’ oder ” verwenden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="st">"Hello world!"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello world!"</code></pre>
</div>
</div>
<p>Dies müssen wir tun, damit R weiss, dass es sich bei diesem Text nicht um Code handelt, den R interpretieren (ausführen) soll. Tun wir dies nicht, sehen wir eine Fehlermeldung.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>Hello world<span class="sc">!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error: &lt;text&gt;:1:7: unexpected symbol
1: Hello world
          ^</code></pre>
</div>
</div>
</section><section id="variablen" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="variablen">
<span class="header-section-number">3.3</span> Variablen</h2>
<p>Führen wir Code wie oben beschrieben aus, wird dieser ausgeführt und das Ergebnis erscheint in der Konsole. Das Resultat der Berechnung(en) wird jedoch nicht gespeichert. Oft wollen wir aber das Resultat unserer Berechnungen speichern. Wenn wir eine Regression berechnen, wollen wir das Resultat speichern, damit wir später wieder darauf zugreifen können. Um dies zu tun, können wir die Berechnung in sogenannten <code>Objekten</code> oder <code>Variablen</code> speichern. Diese Objekte/Variablen enthalten dann das Resultat unserer Berechnung. Der folgende Code speichert das Resultat der Berechnung <code>1 + 1</code> im Objekt <code>resultat_der_berechnung</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>resultat_der_berechnung <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Beim Ausführen dieses Befehls scheint nichts zu passieren – zumindest wird im Konsolenfenster nichts angezeigt, nur der Befehl wird ausgeführt. Allerdings erscheint eine neue Variable im Environment-Fenster im Abschnitt Werte (Values), mit dem Namen <code>resultat_der_berechnung</code> und dem Wert <code>2</code>. Dies zeigt uns an, dass diese Variable in der aktiven R-Session gespeichert wurde und wir später wieder darauf zugreifen können (die Variable ist jedoch nur solange gespeichert, bis wir RStudio schliessen!).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>resultat_der_berechnung</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
</section><section id="coding-best-practices" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="coding-best-practices">
<span class="header-section-number">3.4</span> Coding best practices</h2>
<p>Bevor wir uns vertieft mit der Syntax (Grammatik) von R beschäftigen, besprechen wir ein paar “best practices” die das Programmieren in R langfristig erleichtern.</p>
<section id="sinnvolle-variablennamen" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="sinnvolle-variablennamen">
<span class="header-section-number">3.4.1</span> Sinnvolle Variablennamen</h3>
<p>Durch das Ausführen verschiedener Berechnungen werden wir schnell mehrere Objekte/Variablen in der “Environment” haben. Damit wir da nicht den Überblick verlieren, ist es wichtig, diese Objekte sinnvoll zu benennen. Sinnvoll liegt hier im Ermessen des Programmierenden. Es gibt jedoch zwei häufig verwendete Namenskonventionen und ein paar Symbole, die nicht verwendet werden können.</p>
<p>Die Namenskonvention in der Programmierung hat im Großen und Ganzen zwei große Zweige. Der eine nutzt Großbuchstaben, der andere Unterstriche. Beide sind gut, aber versuchen Sie, sie nicht zu mischen. Sie sind völlig frei, jeden Variablennamen zu verwenden, aber beachten Sie immer die drei Anforderungen:</p>
<ol type="1">
<li>snake_case:</li>
</ol>
<ul>
<li>Die erste Konvention heisst <code>snake case</code>. Dabei trennt man Wörter in Variablennamen mit einem Unterstrich <code>_</code>.</li>
</ul>
<ol start="2" type="1">
<li>CamelCase:</li>
</ol>
<ul>
<li>Die zweite Konvention heisst <code>camel case</code>. Dabei werden Wörter durch Grossbuchstaben getrennt.</li>
</ul>
<p>Snake Case wird etwas häufiger verwendet und ist meiner Meinung nach besser lesbar, deshalb verwenden wir in diesem Skript diese Namenskonvention. Einige Zeichen dürfen/können nicht für Objektnamen verwendet werden (-,.,!~=&amp;^%$). Zudem dürfen Objektnamen nicht mit Zahlen beginnen. Darüber hinaus sind der Fantasie keine Grenzen gesetzt. Kürzere Objektnamen sind jedoch zu bevorzugen. Obwohl wohl jedem klar wird, was in dem Objekt mit dem Namen <code>das_resultat_der_ersten_regression_meiner_bachelorarbeit</code> gespeichert wird, ist der Name wohl etwas zu lange. Was wäre ein guter, aber kürzerer, Name?</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure"><p><img src="_main_files/figure-html/bad_naming.jpg" class="img-fluid figure-img" width="300"></p>
<figcaption>Beispiel eines schlechten Objektnamens.</figcaption></figure>
</div>
</div>
</div>
</section><section id="kommentare" class="level3" data-number="3.4.2"><h3 data-number="3.4.2" class="anchored" data-anchor-id="kommentare">
<span class="header-section-number">3.4.2</span> Kommentare</h3>
<p>Das Kommentieren des geschriebenen Codes ist fast genau so wichtig wie der Code selbst. Zeilen, die mit dem #-Zeichen beginnen, werden von R als Kommentar erkannt und nicht ausgeführt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#das ist ein Kommentar</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">print</span>(<span class="st">"Das ist kein Kommentar"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Das ist kein Kommentar"</code></pre>
</div>
</div>
<p>Das Kommentieren hat zwei Zwecke:</p>
<ol type="1">
<li><p>Jemand anderem (oder dem zukünftigen Ich!) mitteilen, was der Befehl in der nächsten Zeile tut (oder tun soll…)</p></li>
<li><p>“In-progress” Code oder alten Code auskommentieren, damit er nicht ausgeführt wird, jedoch noch ersichtlich ist. Um Code auszukommentieren kan man die Tastenkombination cmd+shift+c (Mac) oder ctrl+shift+c (Windows) verwenden. Markiert man dabei mehrere Zeilen, werden alle markierten Zeilen auskommentiert.</p></li>
</ol>
<p><strong>Tipp:</strong>: je länger man schon programmiert, desto eher vergisst man mal, den geschriebenen Code zu kommentieren. Dies liegt unter anderem daran, dass man den Code schneller lesen kann/versteht. Trotzdem ist es eine gute Gewohnheit, Code kontinuierlich zu kommentieren. Dies weiss auch ChatGPT:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="_main_files/figure-html/commenting_code.png" class="img-fluid figure-img" width="800"></p>
</figure>
</div>
</div>
</div>
</section></section><section id="platzierung-und-formatierung-des-codes" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="platzierung-und-formatierung-des-codes">
<span class="header-section-number">3.5</span> Platzierung und Formatierung des Codes</h2>
<p>Um Code lesbarer zu machen, gibt es sogenannte <a href="http://adv-r.had.co.nz/Style.html">Style-guides</a> die vorschreiben, wie man code strukturieren und formattieren soll.</p>
<p>Wir wollen hier nur zwei Grundsätze nennen:</p>
<ol type="1">
<li>Abstände verwenden</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="co">#schlecht</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>a<span class="ot">&lt;-</span><span class="dv">1</span></span>
<span id="cb12-3"><a href="#cb12-3"></a></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#gut </span></span>
<span id="cb12-5"><a href="#cb12-5"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Längere codes/Skripte in Codeblöcke unterteilen, die durch Absätze getrennt sind</li>
</ol></section><section id="r-objekte" class="level2" data-number="3.6"><h2 data-number="3.6" class="anchored" data-anchor-id="r-objekte">
<span class="header-section-number">3.6</span> R-Objekte</h2>
<p>Oben haben wir bereits ein R-Objekt erstellt, message_world, eine Variable mit einem einzelnen Wert, die ein Zeichen-R-Objekt enthielt. Objekte können verschiedene Werte enthalten. Hier ein paar Beispiele von solchen Werten, die zu unterschiedlichen Objektclassen führen:</p>
<p><strong>R-Objekte</strong>:</p>
<ul>
<li>
<em>Zeichen (character)</em> - auch bekannt als ‘string’. Jede Variable, die Buchstaben, Sonderzeichen oder Zahlen zwischen ’’ oder “” enthält. Wenn Sie ein Zeichen erstellen, entscheiden Sie, ob Sie ’ oder ” verwenden und verwenden Sie sie konsistent.</li>
<li>
<em>numerisch</em> - jeder numerische Wert wird im Allgemeinen als ‘double’ bezeichnet.</li>
<li>
<em>integer</em> - Ganzzahl. Ein zusätzliches ‘L’ wird neben dem Wert im ‘Environment’ Fenster angezeigt, um zu zeigen, dass es sich um einen Integer und nicht um einen numerischen (‘double’) Wert handelt.</li>
<li>
<em>logisch</em> - hat nur zwei Werte: TRUE oder FALSE, möglicherweise nachdem eine Aussage ausgeführt und als wahr oder falsch bewertet wurde</li>
<li>
<em>Faktor</em> - spezielles R-Objekt, das wir in späteren Vorlesungen besprechen werden.</li>
</ul>
<p>Wir können den Typ eines Objektes mit der Funktion <code>typeof</code>ermitteln:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">#Zeichen </span></span>
<span id="cb13-2"><a href="#cb13-2"></a>character_object <span class="ot">&lt;-</span> <span class="st">"hello"</span></span>
<span id="cb13-3"><a href="#cb13-3"></a><span class="fu">class</span>(character_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co">#numerisch </span></span>
<span id="cb15-2"><a href="#cb15-2"></a>double_object <span class="ot">&lt;-</span> <span class="fl">1.3</span></span>
<span id="cb15-3"><a href="#cb15-3"></a><span class="fu">class</span>(double_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co">#integer </span></span>
<span id="cb17-2"><a href="#cb17-2"></a>integer_object <span class="ot">&lt;-</span> <span class="dv">1</span>L</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">class</span>(integer_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="co">#Faktor</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>factor_object <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="dv">1</span> ,<span class="dv">2</span>, <span class="dv">3</span>), <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"low"</span>, <span class="st">"medium"</span>, <span class="st">"high"</span>))</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="fu">class</span>(factor_object)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "factor"</code></pre>
</div>
</div>
</section><section id="operationen-mit-numerischen-werten" class="level2" data-number="3.7"><h2 data-number="3.7" class="anchored" data-anchor-id="operationen-mit-numerischen-werten">
<span class="header-section-number">3.7</span> Operationen mit numerischen Werten</h2>
<p>Man kann numerische Variablen ähnlich wie Zeichenwerte definieren:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>a <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>b <span class="ot">&lt;-</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Jetzt können wir anstelle der Zahlen 2 und 3 a und b verwenden, wenn wir mathematische Operationen durchführen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>a <span class="sc">+</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>a<span class="sc">+</span>b<span class="sc">-</span>(a<span class="sc">*</span>b)<span class="sc">^</span>a</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -31</code></pre>
</div>
</div>
<p>Wir können neue Variablen erstellen, die durch bereits vorhandene Variablen definiert sind:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>c <span class="ot">&lt;-</span> a <span class="sc">+</span> b</span>
<span id="cb26-2"><a href="#cb26-2"></a>d <span class="ot">&lt;-</span> a<span class="sc">*</span>c<span class="sc">/</span>b<span class="sc">*</span>c</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section><section id="operationen-mit-logischen-werten" class="level2" data-number="3.8"><h2 data-number="3.8" class="anchored" data-anchor-id="operationen-mit-logischen-werten">
<span class="header-section-number">3.8</span> Operationen mit logischen Werten</h2>
<p>Logische Operatoren kann man verwenden um zu prüfen, ob zwei Werte/Objekte identisch sind oder nicht.</p>
<p>Überprüfen, ob Werte gleich sind, mit dem == Befehl</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="dv">6</span> <span class="sc">==</span> <span class="dv">12</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Überprüfen, ob zwei Variablen/Objekte identisch sind,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>a <span class="sc">==</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Überprüfen, ob eine modifizierte Variable gleich der anderen ist,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>(a <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">==</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Man kann auch überprüfen, ob die zwei Variablen nicht gleich sind, mit dem != Befehl:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>a <span class="sc">!=</span> b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Es ist auch möglich, komplexere Vergleiche mit mehreren Aussagen zu machen. Z.B. können wir vergleichen, ob 2==2 und 3==2 mit dem &amp; Operator:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="dv">2</span> <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>oder, ob 2==2 oder 3==2 mit dem | Operator</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="dv">2</span> <span class="sc">==</span> <span class="dv">2</span> <span class="sc">|</span> <span class="dv">3</span> <span class="sc">==</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Hinweis: Später werden wir den Unterschied zwischen &amp;, | und &amp;&amp;, || Operatoren besprechen.</p>
</section><section id="operationen-mit-r-objekten" class="level2" data-number="3.9"><h2 data-number="3.9" class="anchored" data-anchor-id="operationen-mit-r-objekten">
<span class="header-section-number">3.9</span> Operationen mit R-Objekten</h2>
<p>Im Allgemeinen haben unterschiedliche R-Objekte unterschiedliche Grundoperationen. Die wichtigsten Grundoperationen sind die zuvor erwähnten numerischen und logischen Operationen.</p>
</section><section id="einfache-funktionen" class="level2" data-number="3.10"><h2 data-number="3.10" class="anchored" data-anchor-id="einfache-funktionen">
<span class="header-section-number">3.10</span> Einfache Funktionen</h2>
<p>Wir brauchen R natürlich nicht, um einfache Berechnungen wie oben aufgeführt durchzuführen, sondern um etwas komplexere Berechnungen wie zum Beispiel Regressionen durchzuführen. Hier kommen Funktionen ins Spiel. Funktionen haben einen oder mehrere Inputs, stellen mit diesem Input etwas an, und ergeben dann einen Output.</p>
<p>Bis jetzt haben wir schon einige Funktionen gesehen, auch einfache Berechnungen wie <code>2 + 3</code> basieren auf der <code>+</code> Funktion. In der Regel sind Funktionen aber etwas komplexer, indem sie eine Reihe von Berechnungen bündeln. Funktionen sind durch ihren Namen definiert und wie folgt aufgebaut:</p>
<p><code>name(input)</code></p>
<p>wobei <code>name</code> der Name der Funktion ist, der R mitteilt, welche Funktion (sprich Berechnung) mit dem Input ausgeführt werden soll. Funktionen verwenden <strong>immer</strong> <code>(</code> und <code>)</code> Klammern, und innerhalb der Klammern müssen Sie den <code>Input</code> definieren, die von der Funktion abhängt. Auch die <code>+</code> Funktion kann in diesem Format verwendet werden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a><span class="st">`</span><span class="at">+</span><span class="st">`</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5</code></pre>
</div>
</div>
<p>Ein Beispiel für eine etwas komlexere Funktion ist die Funktion <code>mean</code>, die den Mittelwert berechnet:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">mean</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.5</code></pre>
</div>
</div>
<p>Dieses Beispiel zeigt auch, dass Funktionen genestet werden können. Dann werden, genau wie in der Mathematik, die Funktionen von innne nach aussen ausgeführt. Um R Code lesbarer zu machen, sollte man genestete Funktionen wenn möglich vermeiden. So kann man en obigen Code auch so schreiben:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>numeric_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="fu">mean</span>(numeric_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.5</code></pre>
</div>
</div>
<p>So haben wir die beiden Funktionen voneinander getrennt und den Code so lesbarer gemacht. Wenn wir mehr über eine Funktion erfahren möchten, können wir das mit dem <code>?</code> Symbol tun, also <code><a href="https://rdrr.io/r/base/name.html">?name</a></code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="co">#?mean</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dadurch wird das Hilfefenster aufgerufen, wo wir mehr über die Funktion erfahren (erwartete Inputs, Argumente, Output). Die Hilfeseite der Funktion <code>mean</code>sieht wie folgt aus:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure"><p><img src="_main_files/figure-html/help_mean.png" class="img-fluid figure-img" width="800"></p>
</figure>
</div>
</div>
</div>
<p>Diese Hilfeseiten sehen zu Beginn etwas kryptisch aus, enthalten aber fast alles, was es über eine Funktion zu wissen gilt. Besonders wichtig ist der Abschnitt <strong>Arguments</strong>. Dort werden alle Inputs gelistet, die eine Funktion erwartet.</p>
<p>Wir sehen, dass das erste Argument der Funktion <code>mean</code> x heisst und einen Vektor erwartet. Generell ist es eine gute Konvention, Inputs mit Namen den entsprechenden Argumenten zuzuweisen, also</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">mean</span>(<span class="at">x =</span> numeric_vector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2.5</code></pre>
</div>
</div>
<p>Dies ist jedoch nicht zwingend. Wenn wir die Namen weglasssen, werden die Inputs der Reihe nach den entsprechenden Argumenten zugewiesen. Deshalb funktioniert auch die Schreibweise <code>mean(numeric_vector)</code>. Bei Funktionen, die häufig verwendet werden und (oft) nur einen Input brauchen, wird der Name des Arguments auch häufig weggelassen.</p>
</section><section id="variablen-kombinieren-mehrerer-r-objekte-in-einer-variable" class="level2" data-number="3.11"><h2 data-number="3.11" class="anchored" data-anchor-id="variablen-kombinieren-mehrerer-r-objekte-in-einer-variable">
<span class="header-section-number">3.11</span> Variablen: Kombinieren mehrerer R-Objekte in einer Variable</h2>
<p>Durch die Verwendung einer einfachen, aber sehr wichtigen, Basisfunktion können wir mehrere numerische Werte zu einem Vektor zusammenfassen. Wir haben diese Funktion bereits bei der Berechnung des Mittelwerts oben verwendet, nämlich die <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>Funktion.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">10</span>)</span>
<span id="cb48-2"><a href="#cb48-2"></a>z <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Jetzt haben wir zwei Vektoren, die wir verwenden können, um verschiedene Vektoroperationen durchzuführen, wie Addition, Multiplikation usw.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>v <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5  9 17</code></pre>
</div>
</div>
<p>In diesem Kontext ermöglicht uns die Vektorisierung, Operationen alle Elemente der Vektoren gleichzeitig auszuführen, anstatt einzelne Elemente in einer Schleife zu bearbeiten. Diese Methode ist nicht nur effizienter, sondern auch einfacher zu schreiben und zu lesen.</p>
<p>Wenn wir also wie oben zwei Vektoren in R haben und eine Operation wie Addition ausführen, führt R die Addition elementweise durch. Das bedeutet, dass jedes Element des Vektors v mit dem entsprechenden Element des Vektors z addiert wird. Das Ergebnis ist ein neuer Vektor, dessen Elemente die Summen der entsprechenden Elemente von v und z sind.</p>
<p>Diese Art der Vektorisierung ist besonders mächtig, da sie es uns erlaubt, komplexe Berechnungen mit sehr wenig Code effizient durchzuführen. Im Gegensatz zu Schleifen (“Loops”), die in vielen anderen Programmiersprachen verwendet werden, kann die Vektorisierung Code vereinfachen und beschleunigen, indem sie interne Optimierungen von R nutzt.</p>
<p>Wenn wir die Vektorisierung verwenden (was R autmomatisch tut) müssen wir schauen, dass die Inputs die Selbe Länge haben. Dies können wir mit der <code><a href="https://rdrr.io/r/base/length.html">length()</a></code>Funktion überprüfen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">length</span>(v)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">length</span>(v) <span class="sc">==</span> <span class="fu">length</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Verwenden wir die Vektorisierung, obwhol die beiden Elemente nicht die selbe Länge haben, werden wir von R gewarnt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb55-2"><a href="#cb55-2"></a></span>
<span id="cb55-3"><a href="#cb55-3"></a>b <span class="sc">+</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in b + z: longer object length is not a multiple of shorter object
length</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4 6 8</code></pre>
</div>
</div>
<p>R wendet in diesem Fall trotzdem Vektorisierung an, recycelt aber den kürzeren Vektor. Es finden also folgende (elementenweisen) Berechnungen statt: <code>1 + 3</code>, <code>2 + 4</code>, und <code>1 + 7</code>. Der kürzere Vektor wird also recycelt (das erste Elemnt von <code>b</code>wird zwei mal verwendet). Hat der kürzere Vektor eine Länge von 1, werden wir hingegen nicht gewarnt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a><span class="fu">c</span>(<span class="dv">2</span>) <span class="sc">*</span> z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  6  8 14</code></pre>
</div>
</div>
<p><em>Nebenbemerkung</em>: die <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> Funktion kann auch verwendet werden, um Vektoren zu verbinden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>w <span class="ot">&lt;-</span> <span class="fu">c</span>(v,z)</span>
<span id="cb60-2"><a href="#cb60-2"></a>w</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2  5 10  3  4  7</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">length</span>(w)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
</section><section id="indizierung" class="level2" data-number="3.12"><h2 data-number="3.12" class="anchored" data-anchor-id="indizierung">
<span class="header-section-number">3.12</span> Indizierung</h2>
<p>Oft werden wir in R mit Ojekten/Daten arbeiten, die deutlich grösser/länger sind als die, die wir bis jetzt verwendet haben. Oft wollen wir dabei aber Berechnungen durchführen, die nur einen Teil der Daten betreffen. Zum Beispiel den Mittelwert für eine Variable getrennt nach dem Geschlecht der ProbandInnen. Dabei kommt die sogenannte Indizierung ins Spiel.</p>
<p>Durch Indizierung können wir bestimmte Teile eines Vektors auswählen. Dies tun wir mit eckigen Klammern <code>[]</code>. So können wir zum Beispiel das erste Element eines Vektors auswählen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>v[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p>oder das erste und das dritte:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>v[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  2 10</code></pre>
</div>
</div>
<p>Wenn wir längere Vektoren haben, hilft die <code>:</code> Funktion bei der Auswahl. Die <code>:</code>Funktion generiert ein Intervall von Ganzzahlen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>So können wir zum Beispiel die Elemente 2 bis 3 auswählen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>v[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]  5 10</code></pre>
</div>
</div>
<p>Die Indizierung ist sehr wichtig uns wird uns noch häufiger begegnen.</p>
</section><section id="spezielle-variablenwerte" class="level2" data-number="3.13"><h2 data-number="3.13" class="anchored" data-anchor-id="spezielle-variablenwerte">
<span class="header-section-number">3.13</span> Spezielle Variablen/Werte</h2>
<section id="leere-variable" class="level3" data-number="3.13.1"><h3 data-number="3.13.1" class="anchored" data-anchor-id="leere-variable">
<span class="header-section-number">3.13.1</span> Leere Variable</h3>
<p>Es gibt einen Nullvektor oder eine leere Variable, die nichts enthält. Später werden wir sehen, dass dies nützlich ist für die Programmierung von Loops.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>null_vector <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb72-2"><a href="#cb72-2"></a>null_vector</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
</div>
</section><section id="na--oder-nan-wert" class="level3" data-number="3.13.2"><h3 data-number="3.13.2" class="anchored" data-anchor-id="na--oder-nan-wert">
<span class="header-section-number">3.13.2</span> NA- oder NaN-Wert</h3>
<p>Wenn ein Wert fehlt oder unbekannt ist, wird er normalerweise als <code>NA</code> oder <code>NaN</code> gekennzeichnet. <code>NA</code> steht für unbekannten Wert, während <code>NaN</code> für „Not-a-Number“ steht, speziell für fehlende numerische Werte entworfen. In der Praxis sind sie auf unserem Niveau jedoch im Wesentlichen gleich, und wir werden eher <code>NA</code> verwenden.</p>
<p>Der Umgang mit <code>NA</code>-Werten ist ziemlich gleich: sie reagieren nicht auf Operationen und bleiben NAs:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>na_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb74-2"><a href="#cb74-2"></a>na_vec <span class="sc">+</span> <span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA  4  5  6  7</code></pre>
</div>
</div>
<p>In anderen Fällen können fehlende Werte jedoch tükisch sein, zum Beispiel beim Berechnen des Mittelwertes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">mean</span>(na_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p>Der Mittelwert ist in diesem Fall nicht definiert, weil wir den Wert einer Zahl nicht wissen.</p>
</section><section id="inf-wert" class="level3" data-number="3.13.3"><h3 data-number="3.13.3" class="anchored" data-anchor-id="inf-wert">
<span class="header-section-number">3.13.3</span> Inf-Wert</h3>
<p>In R steht <code>Inf</code> für ‚Unendlich‘, was sich von <code>NA</code> unterscheidet, da es für eine sehr große Zahl steht. Es wird normalerweise angetroffen, wenn eine mathematische Operation keinen Wert hat, aber im Grenzfall gegen Unendlich konvergiert, wie zum Beispiel:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a><span class="dv">5</span><span class="sc">/</span><span class="dv">0</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
<p>Sie können auch eine Variable definieren, die einen unendlichen Wert hat, und Operationen damit durchführen,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>inf_val <span class="ot">&lt;-</span> <span class="cn">Inf</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>inf_val<span class="sc">*-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -Inf</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>inf_val<span class="sc">*</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Inf</code></pre>
</div>
</div>
</section><section id="gut-zu-wissen-rundungsgenauigkeit-in-r" class="level3" data-number="3.13.4"><h3 data-number="3.13.4" class="anchored" data-anchor-id="gut-zu-wissen-rundungsgenauigkeit-in-r">
<span class="header-section-number">3.13.4</span> Gut zu wissen: Rundungsgenauigkeit in R</h3>
<p>Auch wenn R ein sehr mächtiger Taschenrechner ist, hat er auch seine Limitationen. So kann R die Genauigkeit von Zahlen nur bis zu einem gewissen Grad räpresentieren. Dies kann dann zu kleinen Ungenauigkeiten und verblüffenden Ergebnissen führen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">==</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Wir können die Berechnungen mit der <code>round</code> Funktion runden um zu schauen, wie genau R die Zahlen repräsentiert. Runden wir die Zahlen auf 14 Nachkommastellen, erhalten wir das erwartete Resultat:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="dv">14</span>) <span class="sc">==</span> <span class="fu">round</span>(<span class="dv">2</span>, <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Jedoch nicht mehr, wenn wir auf 15 Nachkommastellen runden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1"></a><span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="dv">15</span>) <span class="sc">==</span> <span class="fu">round</span>(<span class="dv">2</span>, <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Für Forschung wie wir sie in den Sozialwissenschaften betreiben reicht dies jedoch mehr als aus.</p>
</section></section><section id="variablentypen" class="level2" data-number="3.14"><h2 data-number="3.14" class="anchored" data-anchor-id="variablentypen">
<span class="header-section-number">3.14</span> Variablentypen</h2>
<p>Wir haben nun schon einige Variablentypen gesehen (z.B. Vektoren). Hier eine kurze Übersicht von weiteren, häufig verwendeten Typen:</p>
<ul>
<li>Vektoren: enthalten nur dieselben R-Objekte (Werte) in einem eindimensionalen Vektor</li>
<li>Listen: können unterschiedliche R-Objekte als Elemente mischen</li>
<li>Matrizen: enthalten dieselben R-Objekte (Werte) in einer zweidimensionalen Matrix</li>
<li>Arrays: ermöglichen mehrdimensionale Matrizen</li>
<li>Faktoren: ein spezieller Vektor, der kategoriale oder ordinale Werte enthält. Wir werden diese in späteren Klassen sehen</li>
<li>Dataframe: enthalten Daten, im Grunde eine flexible Matrix, die unterschiedliche Vektoren mit unterschiedlichen R-Objekten enthalten kann und organisiert ist, als hätte sie Variablen und Beobachtungen. Wir werden dies im nächsten Kapitel genauer besprechen.</li>
</ul>
<section id="vektoren" class="level3" data-number="3.14.1"><h3 data-number="3.14.1" class="anchored" data-anchor-id="vektoren">
<span class="header-section-number">3.14.1</span> Vektoren</h3>
<p>Wir haben bereits numerische Vektoren erstellt. Nur der Vollständigkeit halber können wir auch Zeichen- und logische Vektoren erstellen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1"></a>char_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'b'</span>,<span class="st">'banana'</span>,<span class="st">'I love R'</span>)</span>
<span id="cb90-2"><a href="#cb90-2"></a>log_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>,<span class="cn">FALSE</span>,T,<span class="cn">NA</span>,F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Zu tun:</strong> Versuchen Sie, unterschiedliche R-Objekttypen in einem Vektor zu mischen! Was passiert? Spielen Sie mit verschiedenen Typen und überprüfen Sie mit der Funktion typeof!</p>
</section><section id="listen" class="level3" data-number="3.14.2"><h3 data-number="3.14.2" class="anchored" data-anchor-id="listen">
<span class="header-section-number">3.14.2</span> Listen</h3>
<p>Listen sind sehr nützlich, um unterschiedliche Typen von R-Objekten zu kombinieren. Diese werden über die Funktion <code><a href="https://rdrr.io/r/base/list.html">list()</a></code> erstellt:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">'a'</span>,<span class="dv">2</span>,<span class="dv">0</span><span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb91-2"><a href="#cb91-2"></a>my_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a"

[[2]]
[1] 2

[[3]]
[1] FALSE</code></pre>
</div>
</div>
<p>wobei <code>my_list</code> diese unterschiedlichen Typen kombiniert. Wenn man aufpasst, ist leicht zu erkennen, dass die Ausgabe anders ist als bei einem einfachen Vektor. Tatsächlich ist sie so strukturiert, dass sie 3 Elemente hat und innerhalb jedes Elements ein R-Objekt oder möglicherweise ein Vektor ist:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>my_list2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'b'</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>),<span class="fu">sqrt</span>(<span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span><span class="sc">==</span><span class="dv">2</span>)</span>
<span id="cb93-2"><a href="#cb93-2"></a>my_list2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a" "b"

[[2]]
[1] 1 2 3

[[3]]
[1] FALSE</code></pre>
</div>
</div>
<p><code>my_list2</code> zeigt, dass Listen im Wesentlichen unterschiedliche Vektoren in ihren Elementen speichern, und diese Vektoren müssen die gleichen R-Objektwerte in ihnen haben, aber die Länge kann unterschiedlich sein.</p>
<p>Da Listen auf diese Weise erstellt werden, unterscheidet sich die Indizierung ein wenig. Sie können die unterschiedlichen Elemente ähnlich wie bei den Vektoren auswählen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>my_list2[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[[1]]
[1] "a" "b"</code></pre>
</div>
</div>
<p>und das ausgewählte Element wird immer noch ein Listentyp sein. Wenn Sie den Vektor aus diesem bestimmten Element haben möchten, müssen Sie doppelte Klammern verwenden:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>my_list2[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "a" "b"</code></pre>
</div>
</div>
<p>und schließlich können Sie bestimmte Elemente aus dem Vektor, den Sie ausgewählt haben, auf folgende Weise erhalten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>my_list2[[<span class="dv">1</span>]][<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "b"</code></pre>
</div>
</div>
<p>Diese Art der Indizierung wird praktisch sein, wenn man mit Listen arbeitet und auch hilft, besser zu verstehen, wie man mit Datentypen von Datenrahmen arbeitet.</p>


</section></section></main><!-- /main --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script><script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;

    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");

  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");

  var cl = this.classList

  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;

  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }

  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }

  update_total_correct();
}

window.onload = function() {
  console.log("webex onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;

    $(solveme[i]).after(" <span class='webex-icon'></span>");
  }

  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }

  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
    $(selects[i]).after(" <span class='webex-icon'></span>");
  }

  update_total_correct();
}

</script><script>
$( document ).ready(function() {
  var cite = ' ';
  var psyteachr = ' <a href="https://psyteachr.github.io/"><img src="images/logos/psyteachr_logo.png" style="height: 31px; color: white;" alt="psyTeachR: Reproducible Research" /></a>';
  var license = ' <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/" target="blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png"></a>';

  $("footer div.row div:eq(1) p").html(
    psyteachr + license + cite
  );

  function move_sidebar() {
    var w = window.innerWidth;
    if (w < 992) {
      $("#toc").appendTo($("#main-nav"));
    } else {
      $("#toc").appendTo($("div.sidebar-chapter"));
    }
  }
  move_sidebar();
  window.onresize = move_sidebar;
  
  
  var elem = document.getElementById("tabset-1-1-tab");
    if (elem) {
        elem.textContent = "Code";
    }
    
 var elem = document.getElementById("tabset-1-2-tab");
    if (elem) {
        elem.textContent = "Interaktiv";
    }
    
    
});
</script><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./02.1-markdown.html" class="pagination-link" aria-label="Berichte mit R Markdown erstellen">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Berichte mit R Markdown erstellen</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./04-import-export.html" class="pagination-link" aria-label="Daten Import und Export in R">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Daten Import und Export in R</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>This is a translation/adaptation of the book <a href="https://psyteachr.github.io/ads-v3/">Applied Data Skills</a> by Emily Nordmann and Lisa DeBruine</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/psyteachr/ads-v3/edit/master/03-coding-basics.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/psyteachr/ads-v3/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li><li><a href="https://github.com/psyteachr/ads-v3/blob/master/03-coding-basics.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/psyteachr/ads-v3">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/psyteachr">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://doi.org/10.5281/zenodo.6365077">
      <i class="bi bi-https://zenodo.org/badge/DOI/10.5281/zenodo.6365077.svg" role="img">
</i> 
    </a>
  </li>  
</ul>
</div>
  </div>
</footer>


</body></html>